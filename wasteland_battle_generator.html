<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–∏—Ç–≤ ‚Äî –°—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∏</title>
<style>
  :root{
    --bg:#1f1c17;          /* —Ç–µ–º–Ω–æ‚Äë–ø—ñ—â–∞–Ω–∏–π */
    --panel:#2a2620;       
    --muted:#a89469;       /* –ø—ñ—Å–æ—á–Ω–∏–π */
    --accent:#ffd761;      /* –∂–æ–≤—Ç–∏–π –∞–∫—Ü–µ–Ω—Ç */
    --text:#f7f2e8;        
    --bad:#ff7a7a;
    --good:#7aff9a;
    --chip:#3a342b;
  }
  html,body{background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0}
  header{padding:18px 20px;border-bottom:1px solid #3a342b;background:linear-gradient(180deg,#241f1a,#1f1c17)}
  h1{margin:0;font-size:20px;letter-spacing:.5px}
  .sub{color:var(--muted);font-size:13px;margin-top:6px}
  main{padding:18px;display:grid;gap:16px;grid-template-columns:1fr}
  @media (max-width:1100px){main{grid-template-columns:1fr}}
  .card{background:var(--panel);border:1px solid #3a342b;border-radius:14px;box-shadow:0 1px 0 #0006 inset}
  .card .hd{padding:14px 14px 10px;border-bottom:1px solid #3a342b;display:flex;align-items:center;gap:10px}
  .card .bd{padding:14px}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .row > *{flex:1 1 160px}
  label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  select,button,.inp{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #4a4339;background:#161410;color:var(--text)}
  button{cursor:pointer;transition:.15s ease;}
  button.primary{background:linear-gradient(180deg,#463c2c,#3a3125);border-color:#5b4f3d}
  button.primary:hover{transform:translateY(-1px);box-shadow:0 6px 16px #0006}
  button.ghost{background:#161410;border-color:#3a342b}
  .chips{display:flex;gap:6px;flex-wrap:wrap}
  .chip{background:var(--chip);border:1px solid #3a342b;color:var(--muted);padding:2px 8px;border-radius:999px;font-size:12px}
  .cols{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  @media (max-width:1200px){.cols{grid-template-columns:1fr}}
  .stack{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
  @media (max-width:1200px){.stack{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:700px){.stack{grid-template-columns:1fr}}
  .slot{border:1px dashed #3a342b;border-radius:12px;min-height:120px}
  .slot .label{font-size:11px;color:var(--muted);padding:8px 10px;border-bottom:1px dashed #3a342b;display:flex;align-items:center;justify-content:space-between}
  .slot .list{padding:10px;display:grid;gap:10px}
  .enemy{background:#191611;border:1px solid #3a342b;border-radius:10px}
  .enemy .ehd{padding:8px 10px;border-bottom:1px solid #3a342b;display:flex;align-items:center;justify-content:space-between;gap:8px}
  .enemy .name{font-weight:600}
  .enemy .qty{font-size:20px;color:var(--accent);font-weight:700;background:#0f0e0b;border:1px solid #544a38;padding:2px 10px;border-radius:999px} 
  .enemy .ebd{padding:10px}
  .kv{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:6px}
  .kv .k{font-size:11px;color:var(--muted)}
  .kv .v{font-size:13px}
  .section-title{margin:10px 0 6px;font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em}
  .moves{display:grid;gap:8px}
  .move{background:#0f0e0b;border:1px solid #2f2a22;border-radius:8px;padding:8px}
  .move .mn{font-weight:600;font-size:13px;margin-bottom:2px}
  .muted{color:var(--muted)}
  .out{white-space:pre-wrap;background:#15130f;border:1px dashed #3a342b;padding:10px;border-radius:10px;max-height:340px;overflow:auto}
  .die{display:inline-flex;align-items:center;gap:6px;border:1px solid #544a38;border-radius:8px;padding:0 6px;font:inherit;background:#0f0e0b;color:var(--accent);cursor:pointer}
  .die:after{content:'üé≤';opacity:.9}
  .die:hover{filter:brightness(1.08)}
  .small{font-size:12px}
  .notice{font-size:12px;color:var(--muted)}
  .pill{padding:.2em .5em;border:1px solid #3a342b;border-radius:999px;font-size:12px;color:var(--muted)}
  .slot .label .count{font-size:16px;font-weight:800;color:var(--accent);background:#0f0e0b;border-color:#544a38}
  .reward{background:#14120d;border:1px solid #3a342b;border-radius:10px;padding:10px}
  .reward .title{font-weight:700}
  .flex{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .right{margin-left:auto}
  .sep{height:1px;background:#3a342b;margin:10px 0}
  /* –¢–µ—Å—Ç–∏ */
  .test-pass{color:var(--good)}
  .test-fail{color:var(--bad)}
  .mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
.diagnostics{display:none !important;}
</style>
</head>
<body>
  <header>
    <h1>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–∏—Ç–≤ ‚Äî –°—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∏</h1>
    <div class="sub">–°—Ç–≤–æ—Ä—é–π –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—è –∑–∞ –æ–±—Ä–∞–Ω–æ—é —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—é –π –≤–∏–¥–æ–º —Å—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫—ñ–≤. –ö–ª–∞—Ü–∞–π –Ω–∞ –∫—É–±–∏–∫–∏, —â–æ–± –∫–∏–Ω—É—Ç–∏ —ó—Ö.</div>
  </header>

  <main>
    <section class="card">
      <div class="hd">
        <strong>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</strong>
      </div>
      <div class="bd">
        <div class="row">
          <div>
            <label>–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –±–∏—Ç–≤–∏</label>
            <select id="difficulty">
              <option value="easy">–õ–µ–≥–∫–∞</option>
              <option value="medium">–°–µ—Ä–µ–¥–Ω—è</option>
              <option value="hard">–í–∞–∂–∫–∞</option>
              <option value="deadly">–°–º–µ—Ä—Ç–µ–ª—å–Ω–∞</option>
            </select>
          </div>
          <div>
            <label>–í–∏–¥ —Å—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫—ñ–≤</label>
            <select id="kind">
              <optgroup label="–§—Ä–∞–∫—Ü—ñ—ó —Ç–∞ —ñ—Å—Ç–æ—Ç–∏">
                <option value="beasts">–ó–≤—ñ—Ä—ñ</option>
                <option value="mutants">–ú—É—Ç–∞–Ω—Ç–∏</option>
                <option value="robots">–†–æ–±–æ—Ç–∏</option>
                <option value="ghouls">–î–∏–∫—ñ –≥—É–ª—ñ</option>
                <option value="supermutants">–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç–∏</option>
                <option value="raiders">–ë–∞–Ω–¥–∏—Ç–∏ —Ç–∞ —Ä–µ–π–¥–µ—Ä–∏</option>
                <option value="legion">–õ–µ–≥—ñ–æ–Ω –¶–µ–∑–∞—Ä—è</option>
                <option value="ncr">–°–æ–ª–¥–∞—Ç–∏ –ù–ö–†</option>
                <option value="bos">–ë—Ä–∞—Ç—Å—Ç–≤–æ –°—Ç–∞–ª—ñ</option>
                <option value="enclave">–ê–Ω–∫–ª–∞–≤</option>
              </optgroup>
            </select>
          </div>
        </div>
        <div class="row">
          <button class="primary" id="gen">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –±—ñ–π</button>
          <button class="ghost" id="copyAll">–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —è–∫ —Ç–µ–∫—Å—Ç</button>
          <span class="pill">–û–±–º–µ–∂–µ–Ω–Ω—è: ‚â§ 2 –≤–∞—Ä—ñ–∞—Ü—ñ—ó –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</span>
        </div>
        <div class="sep"></div>
        <div class="reward" id="rewardBox">
          <div class="title">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞</div>
          <div class="small muted">–ü—ñ—Å–ª—è –≥–µ–Ω–µ—Ä—É–≤–∞–Ω–Ω—è —Ç—É—Ç –∑'—è–≤–∏—Ç—å—Å—è –∫–∏–¥–æ–∫ –∑–∞ —Ç–∞–±–ª–∏—Ü–µ—é –≤–∏–Ω–∞–≥–æ—Ä–æ–¥ –¥–ª—è –æ–±—Ä–∞–Ω–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (—Å–º–µ—Ä—Ç–µ–ª—å–Ω–∞ = –¥–≤—ñ –≤–∞–∂–∫—ñ).</div>
          <div class="flex" style="margin-top:6px">
            <button class="ghost" id="rollRewardBtn">–ö–∏–Ω—É—Ç–∏ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥—É –∑–∞—Ä–∞–∑</button>
            <span class="small muted">(d10, —Ç–∞–±–ª–∏—Ü—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ)</span>
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <div class="hd">
        <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong>
        <span class="right notice" id="caseInfo"></span>
      </div>
      <div class="bd">
        <div class="stack" id="buckets">
          <div class="slot" data-bucket="statist">
            <div class="label">–°—Ç–∞—Ç–∏—Å—Ç–∏ <span class="count pill" id="c-statist">0</span></div>
            <div class="list"></div>
          </div>
          <div class="slot" data-bucket="regular">
            <div class="label">–†—è–¥–æ–≤—ñ <span class="count pill" id="c-regular">0</span></div>
            <div class="list"></div>
          </div>
          <div class="slot" data-bucket="elite">
            <div class="label">–ï–ª—ñ—Ç–Ω—ñ <span class="count pill" id="c-elite">0</span></div>
            <div class="list"></div>
          </div>
          <div class="slot" data-bucket="boss">
            <div class="label">–ë–æ—Å–∏ <span class="count pill" id="c-boss">0</span></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="card" style="grid-column:1/-1">
      <div class="hd">
        <strong>–¢–µ–∫—Å—Ç–æ–≤–∏–π –≤–∏–≤—ñ–¥</strong>
        <span class="right notice">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó</span>
      </div>
      <div class="bd">
        <div id="textOut" class="out small mono">(–ø–æ—Ä–æ–∂–Ω—å–æ)</div>
      </div>
    </section>

    <!-- –ü–∞–Ω–µ–ª—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ñ–≤ -->
    <section class="card diagnostics" style="grid-column:1/-1">
      <div class="hd">
        <strong>–ü–∞–Ω–µ–ª—å –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</strong>
        <span class="right notice">–ê–≤—Ç–æ—Ç–µ—Å—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM</span>
      </div>
      <div class="bd">
        <div class="row">
          <button class="ghost" id="runTests">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∏</button>
          <span class="small muted">–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∏–∂—á–µ. –Ø–∫—â–æ —â–æ—Å—å ¬´—á–µ—Ä–≤–æ–Ω–µ¬ª ‚Äî —Å–∫–∞–∂—ñ—Ç—å –º–µ–Ω—ñ, —â–æ –æ—á—ñ–∫—É–≤–∞–ª–∏.</span>
        </div>
        <div class="sep"></div>
        <div id="testOut" class="out small mono">(—â–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª–∏)</div>
      </div>
    </section>
  </main>

<script>
// –£–≤–µ—Å—å JS –∑–∞–ø—É—Å–∫–∞—î–º–æ –ø—ñ—Å–ª—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ DOM, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ–º–∏–ª–æ–∫ –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç–∞—Ö, —è–∫–∏—Ö —â–µ –Ω–µ–º–∞
window.addEventListener('DOMContentLoaded', ()=>{
  // ---------- –£–¢–ò–õ–Ü–¢–ò ----------
  function randInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}
  function pick(arr){return arr[Math.floor(Math.random()*arr.length)]}
  function rollDiceExpr(expr){
    // –ø—ñ–¥—Ç—Ä–∏–º–∫–∞: XdY, XdY+Z, XdY-Z, dY, Z (—Ü—ñ–ª–µ)
    expr = (expr||'').toString().trim()
    const m = expr.match(/^(\d*)d(\d+)([+\-]\d+)?$/i)
    if(!m){
      // –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ?
      const n = parseInt(expr,10)
      if(!isNaN(n)) return {total:n, detail: String(n)}
      return {total:0, detail:"0"}
    }
    const count = m[1] ? parseInt(m[1],10) : 1
    const faces = parseInt(m[2],10)
    const mod = m[3] ? parseInt(m[3],10) : 0
    let rolls=[]
    for(let i=0;i<count;i++) rolls.push(randInt(1,faces))
    const sum = rolls.reduce((a,b)=>a+b,0)
    const total = sum+mod
    const detail = `${count}d${faces}${mod? (mod>0?"+":"")+mod:""} = [${rolls.join(", ")}] ${mod? (mod>0?"+":"-")+Math.abs(mod):""} ‚Üí ${total}`
    return {total, detail}
  }
  function parseAndWrapDice(text){
    return String(text||'').replace(/\b(\d*)d(\d+)([+\-]\d+)?\b/g,(m)=>`<button class="die" data-dice="${m}">${m}</button>`)
  }

  // ---------- –î–ê–ù–Ü ----------
  // –ü–æ–ª—è: {name, cat, hp, armor, dmg, aspects:[...], moves:[{n,t}], notes}
  const DB = {
    robots: {
      name: "–†–æ–±–æ—Ç–∏",
      statists: [
        {name:"–†–æ–±–æ–æ–∫–æ",cat:"statist",hp:5,armor:"1 (–ª–µ—Ç—é—á–∏–π)",dmg:"1d6 ‚Äî –ª–∞–∑–µ—Ä–Ω–∏–π –ø—Ä–æ–º—ñ–Ω—å",aspects:["–ª–µ—Ç—é—á–∏–π, –Ω–µ –º–æ–∂–Ω–∞ –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥"],moves:[],notes:"‚ö° –û—Ç—Ä–∏–º—É—î +1d6 —à–∫–æ–¥–∏ –≤—ñ–¥ –µ–ª–µ–∫—Ç—Ä–∏–∫–∏."}
      ],
      regular:[
        {name:"–ú—ñ—Å—Ç–µ—Ä –ü–æ–º—ñ—á–Ω–∏–∫",cat:"regular",hp:7,armor:"1 (–ª–µ—Ç—é—á–∏–π)",dmg:"1d6 –ø–∏–ª–∫–æ—é –∞–±–æ 1d6 –≤–æ–≥–Ω–µ–º",aspects:["—Ä–æ–±–æ—Ç –¥–ª—è —Ö–∞—Ç–Ω—å–æ—ó —Ä–æ–±–æ—Ç–∏"],moves:[]},
        {name:"–ü—Ä–æ—Ç–µ–∫—Ç—Ä–æ–Ω",cat:"regular",hp:8,armor:"1",dmg:"1d6+2 –ª–∞–∑–µ—Ä",aspects:["—Ä–æ–±–æ—Ç‚Äë–æ—Ö–æ—Ä–æ–Ω–µ—Ü—å"],moves:[]},
        {name:"–¢—É—Ä–µ–ª—å",cat:"regular",hp:6,armor:"1",dmg:"1d10 –∫—É–ª–µ–º–µ—Ç –∞–±–æ 1d10 –ª–∞–∑–µ—Ä",aspects:["—Å—Ç–∞—Ü—ñ–æ–Ω–∞—Ä–Ω–∞ —Ç—É—Ä–µ–ª—å"],moves:[]}
      ],
      elite:[
        {name:"–ú—ñ—Å—Ç–µ—Ä –°–º—ñ–ª–∏–≤–µ—Ü—å",cat:"elite",hp:15,armor:"2 (–ª–µ—Ç—é—á–∏–π)",dmg:"1d6+3 –ø–ª–∞–∑–º–∞ –∞–±–æ –≤–æ–≥–æ–Ω—å",aspects:["–±–æ–π–æ–≤–∏–π —Ä–æ–±–æ—Ç"],moves:[{n:"–ü–µ—Ä–µ–≥—Ä—ñ–≤ —è–¥—Ä–∞",t:"–ö–æ–ª–∏ –¥–æ—Å—è–≥–∞—î 0 –û–ó ‚Äî –≤–∏–±—É—Ö–∞—î, 1d10 —à–∫–æ–¥–∏ –≤–æ–≥–Ω–µ–º —É –∑–æ–Ω—ñ."}]},
        {name:"–°–µ–∫ º—é—Ä—ñ—Ç—Ä–æ–Ω",cat:"elite",hp:15,armor:"2",dmg:"1d10 –∫—É–ª–µ–º–µ—Ç; –º–∞—î 2√ó –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6)",aspects:["–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–∏–π —Ä–æ–±–æ—Ç‚Äë–æ—Ö–æ—Ä–æ–Ω–µ—Ü—å"],moves:[{n:"–°–∏–≥–Ω–∞–ª—ñ–∑–∞—Ü—ñ—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –∫–ª–∏—á–µ —â–µ –æ–¥–Ω–æ–≥–æ —Å–µ–∫ º—é—Ä—ñ—Ç—Ä–æ–Ω–∞ —Ç–∞ –ø—ñ–¥—ñ–π–º–∞—î —Ç—Ä–∏–≤–æ–≥—É."}]},
        {name:"–†–æ–±–æ–º–æ–∑–æ–∫",cat:"elite",hp:12,armor:"2",dmg:"1d10 –ø—Å–∏—Ö—ñ—á–Ω–æ—ó (—ñ–≥–Ω–æ—Ä—É—î —Ñ—ñ–∑–∏—á–Ω—É –±—Ä–æ–Ω—é)",aspects:["–≥—É—Å–µ–Ω–∏—á–Ω–∏–π –±–æ–π–æ–≤–∏–π —Ä–æ–±–æ—Ç, –±–æ–∂–µ–≤—ñ–ª—å–Ω–∏–π"],moves:[{n:"–ü—Å–∏‚Äë–≤–∏–±—É—Ö",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤—Å—ñ–º –∂–∏–≤–∏–º —É –∑–æ–Ω—ñ 1d10 –ø—Å–∏—Ö—ñ—á–Ω–æ—ó (—ñ–≥–Ω–æ—Ä. —Ñ—ñ–∑. –±—Ä–æ–Ω—é)."}]}
      ],
      boss:[
        {name:"–†–æ–±–æ—Ç‚Äë–≤–∞—Ä—Ç–æ–≤–∏–π",cat:"boss",hp:35,armor:"4",dmg:"3d6 –ª–∞–∑–µ—Ä–Ω–∏–π –º—ñ–Ω—ñ–≥–∞–Ω; 2√ó —Ä–∞–∫–µ—Ç–∏ (3d6)",aspects:["–≤–µ–ª–∏–∫–∏–π –≥—É–º–∞–Ω–æ—ó–¥–Ω–∏–π –±–æ–π–æ–≤–∏–π —Ä–æ–±–æ—Ç"],moves:[{n:"–ó–∞—Ö–∏—Å–Ω–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —ñ–≥–Ω–æ—Ä—É—î —â–æ–π–Ω–æ –∑–∞–≤–¥–∞–Ω—É —à–∫–æ–¥—É."},{n:"–°–∏–ª–æ–≤–∏–π —Ä–∏–≤–æ–∫",t:"2d6 —É—Å—ñ–º —É –∑–æ–Ω—ñ —ñ –∑–±–∏–≤–∞—î –∑ –Ω—ñ–≥; –ø–µ—Ä–µ–º—ñ—â–∞—î—Ç—å—Å—è —ñ –∑–∞–≤–¥–∞—î 2d6 —â–µ –æ–¥–Ω–æ–º—É –≤–æ—Ä–æ–≥—É."},{n:"–ü–µ—Ä–µ–≥—Ä—ñ–≤ —è–¥—Ä–∞",t:"–ü—Ä–∏ 0 –û–ó –≤–∏–±—É—Ö: 1d10 –≤–æ–≥–Ω–µ–º + 1d6 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)."}]}
      ]
    },
    raiders: {
      name:"–ë–∞–Ω–¥–∏—Ç–∏ —Ç–∞ —Ä–µ–π–¥–µ—Ä–∏",
      statists:[
        {name:"–¶–∏–≤—ñ–ª—å–Ω—ñ",cat:"statist",hp:3,armor:"0",dmg:"–º–µ–Ω—à–∏–π –∑ 2d6 —É –±–ª–∏–∂–Ω—å–æ–º—É –±–æ—é",aspects:["–º–µ—à–∫–∞–Ω—Ü—ñ –ü—É—Å—Ç–∫–∏ –±–µ–∑ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏"],moves:[]}
      ],
      regular:[
        {name:"–ë–∞–Ω–¥–∏—Ç–∏/—Ä–µ–π–¥–µ—Ä–∏/–¥–∏–∫—É–Ω–∏",cat:"regular",hp:5,armor:"1",dmg:"1d6 –ª–µ–≥–∫–∞ –∑–±—Ä–æ—è; 1√ó —Å–∞–º–æ—Ä–æ–±–Ω–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (1d6) (–º–∞–∫—Å.)",aspects:["–∑–≤–∏—á–∞–π–Ω–∏–π –±–∞–Ω–¥–∏—Ç"],moves:[]}
      ],
      elite:[
        {name:"–í–∞—Ç–∞–∂–æ–∫ –±–∞–Ω–¥–∏",cat:"elite",hp:12,armor:"2",dmg:"1d10 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è; –≥—Ä–∞–Ω–∞—Ç–∏ (1d6)√ó2 –∞–±–æ –∞—Ä–º—ñ–π—Å—å–∫–∞ (2d6)",aspects:["–º–∞—î –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç —Å–µ—Ä–µ–¥ —Å–≤–æ—ó—Ö"],moves:[{n:"–°—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤—ñ–¥–Ω–æ–≤–ª—é—î 5 –û–ó."}]}
      ],
      boss:[
        {name:"–í–µ–ª–∏–∫–∏–π –±–æ—Å/–í–æ–∂–¥—å",cat:"boss",hp:30,armor:"3",dmg:"2d6 –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è; 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["–≥–æ–ª–æ–≤–Ω–∏–π –Ω–∞ —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó"],moves:[{n:"–°—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫",t:"1d6+4 –û–ó —Ä–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É."},{n:"–Ü–Ω º—î–∫—Ü—ñ—è –ü—Å–∏—Ö–æ",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É: +2 –¥–æ —à–∫–æ–¥–∏ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏."},{n:"–†–æ–∑—ñ—Ä–≤—É –ø–∞—â–µ–∫—É",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ª—è–∫–∞—î –≤–æ—Ä–æ–≥–∞ —É –∑–æ–Ω—ñ ‚Äî –≤—ñ–Ω –ø—Ä–æ–ø—É—Å–∫–∞—î –Ω–∞—Å—Ç—É–ø–Ω—É –¥—ñ—é."}]}
      ]
    },
    ghouls:{
      name:"–î–∏–∫—ñ –≥—É–ª—ñ",
      statists:[],
      regular:[
        {name:"–î–∏–∫–∏–π –≥—É–ª—å",cat:"regular",hp:5,armor:"1",dmg:"1d6 –ª–∞–ø–∞–º–∏ +1 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–±–æ–∂–µ–≤—ñ–ª—å–Ω–∏–π –≥—É–ª—å"],moves:[]}
      ],
      elite:[
        {name:"–°—è—é—á–∏–π –¥–∏–∫–∏–π –≥—É–ª—å",cat:"elite",hp:12,armor:"2",dmg:"1d6 –ª–∞–ø–∞–º–∏ +3 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["—Å–≤—ñ—Ç–∏—Ç—å—Å—è –≤—ñ–¥ —Ä–∞–¥—ñ–∞—Ü—ñ—ó"],moves:[{n:"–ü—Ä–æ—â–∞–ª—å–Ω–∏–π –ø–æ–¥–∞—Ä—É–Ω–æ–∫",t:"–ü—ñ—Å–ª—è —Å–º–µ—Ä—Ç—ñ –≤–∏–±—É—Ö–∞—î: 1d6+3 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é –≤ –∑–æ–Ω—ñ (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)."}]}
      ],
      boss:[]
    },
    supermutants:{
      name:"–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç–∏",
      statists:[],
      regular:[],
      elite:[
        {name:"–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç‚Äë—Ä–µ–π–¥–µ—Ä",cat:"elite",hp:18,armor:"1",dmg:"1d10 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è; 2√ó —Å–∞–º–æ—Ä–æ–±–Ω—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (1d6)",aspects:["–Ω–µ–∑–≥—Ä–∞–±–Ω–∏–π –∑–¥–æ—Ä–æ–≤–∏–ª–æ"],moves:[{n:"–ó–∞—Ç–∏—Å–Ω—É—Ç–∏ –≥–∞—à–µ—Ç–∫—É",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –± º—î –≤—Å—ñ–º —É –≤–∏–±—Ä–∞–Ω—ñ–π –∑–æ–Ω—ñ, –¥–∞–ª—ñ –ª–∏—à–µ –±–ª–∏–∂–Ω—ñ–π –±—ñ–π."}]},
        {name:"–ù–∞–π—Ç–∫—ñ–Ω‚Äë—Ä–µ–π–¥–µ—Ä",cat:"elite",hp:15,armor:"2",dmg:"1d10+1 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è; –∞—Ä–º—ñ–π—Å—å–∫–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (2d6)",aspects:["–∑–≥—Ä–∞–±–Ω–∏–π –¥–ª—è —Å–≤–æ—ó—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤"],moves:[{n:"–°—Ç–µ–ª—Å‚Äë–±–æ–π",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —Å—Ç–∞—î –Ω–µ–≤–∏–¥–∏–º–∏–º —ñ —Ä—É—Ö–∞—î—Ç—å—Å—è –¥–æ 2 –∑–æ–Ω –±–µ–∑ –ø–µ—Ä–µ—à–∫–æ–¥; –ø–æ—Ç—ñ–º –∑–∞–≤–¥–∞—î —à–∫–æ–¥–∏ –∞–±–æ —Ç—ñ–∫–∞—î."}]}
      ],
      boss:[
        {name:"–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç‚Äë–º–∞–π—Å—Ç–µ—Ä",cat:"boss",hp:35,armor:"3",dmg:"2d6+2 –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è; 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["–Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ —Ä–æ–∑—É–º–Ω–∏–π –≤–∞—Ç–∞–∂–æ–∫"],moves:[{n:"–ñ–∏–≤—É—á—ñ—Å—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø—Ä–∏ –∑–Ω–∏–∂–µ–Ω–Ω—ñ –¥–æ 0 –û–ó –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ 5 –û–ó."},{n:"–ë–∏–π—Ç–µ—Å—è, —ñ–¥—ñ–æ—Ç–∏",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —ñ–Ω—à—ñ —Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç–∏ –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è —É —Å—É—Å—ñ–¥–Ω—é –∑–æ–Ω—É –π –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å –ø–æ 5 –û–ó."},{n:"–ó–∞—Ç–∏—Å–Ω—É—Ç–∏ –≥–∞—à–µ—Ç–∫—É",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤—Å—ñ–º —É –≤–∏–±—Ä–∞–Ω—ñ–π –∑–æ–Ω—ñ; –¥–∞–ª—ñ –ª–∏—à–µ –±–ª–∏–∂–Ω—ñ–π –±—ñ–π."}]}
      ]
    },
    beasts:{
      name:"–ó–≤—ñ—Ä—ñ",
      statists:[
        {name:"–ú–∞–ª–µ–Ω—å–∫—ñ —Ç–≤–∞—Ä–∏–Ω–∏/–º—É—Ç–∞–Ω—Ç–∏",cat:"statist",hp:2,armor:"0",dmg:"–º–µ–Ω—à–∏–π –∑ 2d6 —É –±–ª–∏–∂–Ω—å–æ–º—É –±–æ—é",aspects:["–∑–≥—Ä–∞—ó 6‚Äì10"],moves:[]},
        {name:"–ë–æ–π–æ–≤–∏–π –ø–µ—Å",cat:"statist",hp:4,armor:"0",dmg:"1d6 —ñ–∫–ª–∞–º–∏",aspects:["–≥–æ—Å—Ç—Ä–∏–π –Ω—é—Ö"],moves:[]},
        {name:"–¢–≤–∞—Ä–∏–Ω–∏ –ø–æ–±—ñ–ª—å—à–µ",cat:"statist",hp:3,armor:"0",dmg:"1d6 –±–ª–∏–∂–Ω—ñ–π –±—ñ–π",aspects:["–≥—Ä—É–ø–∞–º–∏ ‚â•5"],moves:[]}
      ],
      regular:[
        {name:"–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∞ –º—É—Ä–∞—Ö–∞‚Äë—Ä–æ–±—ñ—Ç–Ω–∏–∫",cat:"regular",hp:6,armor:"2",dmg:"1d6+1 –∂–≤–∞–ª–∞–º–∏",aspects:["–≥—ñ–≥–∞–Ω—Ç—Å—å–∫–∞ –∫–æ–º–∞—Ö–∞"],moves:[]},
        {name:"–ì–µ–∫–æ–Ω",cat:"regular",hp:5,armor:"1",dmg:"1d6 –ª–∞–ø–∞–º–∏",aspects:["—Å–ø—Ä–∏—Ç–Ω–∞ —è—â—ñ—Ä–∫–∞"],moves:[]},
        {name:"–ë—Ä–∞–º—ñ–Ω",cat:"regular",hp:5,armor:"0",dmg:"1d6 –±—É—Ü–∞–Ω–Ω—è (—è–∫—â–æ —Ä–æ–∑–¥—Ä–∞—Ç—É–≤–∞—Ç–∏)",aspects:["–≤–µ–ª–∏–∫–∞ —Ä–æ–≥–∞—Ç–∞ —Ö—É–¥–æ–±–∞"],moves:[]},
        {name:"–¢–æ–≤—Å—Ç–æ—Ä—ñ–≥",cat:"regular",hp:5,armor:"1",dmg:"1d6+2 —Ä–æ–≥–∞–º–∏",aspects:["–∑–∞—Ö–∏—â–∞—î –º–∞–ª–µ—á—É"],moves:[]},
        {name:"–†–∞–¥—Å–∫–æ—Ä–ø—ñ–æ–Ω",cat:"regular",hp:8,armor:"2",dmg:"1d6 –∫–ª–µ—à–Ω—è–º–∏ +2 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–∞–≥—Ä–µ—Å–∏–≤–Ω–∞ –æ—Ç—Ä—É–π–Ω–∞ –∫–æ–º–∞—Ö–∞"],moves:[]}
      ],
      elite:[
        {name:"–í–æ–≥–Ω–µ–¥–∏—à–Ω–∏–π –≥–µ–∫–æ–Ω",cat:"elite",hp:10,armor:"2 (—ñ–≥–Ω–æ—Ä. —à–∫–æ–¥—É –≤—ñ–¥ –≤–æ–≥–Ω—é)",dmg:"1d10 –≤–æ–≥–Ω–µ–º",aspects:["–ø—Ä—É–¥–∫–æ –±—ñ–≥–∞—î"],moves:[{n:"–í–æ–≥–Ω—è–Ω–µ –¥–∏—Ö–∞–Ω–Ω—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 2d6 –≤–æ–≥–Ω–µ–º –≤—Å—ñ–º —É –∑–æ–Ω—ñ (—ñ–Ω—à—ñ –≤–æ–≥–Ω–µ–¥–∏—à–Ω—ñ –Ω–µ —Å—Ç—Ä–∞–∂–¥–∞—é—Ç—å)."}]},
        {name:"–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∞ –º—É—Ä–∞—Ö–∞‚Äë—Å–æ–ª–¥–∞—Ç",cat:"elite",hp:12,armor:"2",dmg:"1d10 –∂–≤–∞–ª–∞–º–∏",aspects:["–ø–æ–º—Ä–µ, –∞–ª–µ –Ω–µ –≤—Ç–µ—á–µ"],moves:[{n:"–ü–ª—é–≤–æ–∫ –∫–∏—Å–ª–æ—Ç–æ—é",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 2d6 –∫–∏—Å–ª–æ—Ç–æ—é —É —Å–≤–æ—ó–π –∞–±–æ —Å—É—Å—ñ–¥–Ω—ñ–π –∑–æ–Ω—ñ; —ñ–≥–Ω–æ—Ä—É—î 2 –±—Ä–æ–Ω—ñ."}]},
        {name:"–ö–∞—Å–∞–¥–æ—Ä",cat:"elite",hp:15,armor:"2 (–ª–µ—Ç—é—á–∏–π)",dmg:"1d10 –∂–∞–ª–æ–º +1d6 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –∑–ª–∞ –ª–µ—Ç—é—á–∞ –∫–æ–º–∞—Ö–∞"],moves:[{n:"–û—Ç—Ä—É—î–Ω–Ω—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É: 1d6 –æ—Ç—Ä—É—Ç–æ—é —â–æ—Ä–∞–∑—É, –∫–æ–ª–∏ –∂–µ—Ä—Ç–≤–∞ —Ö–æ–¥–∏—Ç—å (3 –∫–æ–ª–∞)."},{n:"–ü–æ–ª—ñ—Ç",t:"–ó–ª—ñ—Ç–∞—î; —Ä—É—Ö –¥–æ 2 –∑–æ–Ω –±–µ–∑ –ø–µ—Ä–µ—à–∫–æ–¥; –Ω–µ –º–æ–∂–Ω–∞ –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥."}]},
        {name:"–ö—ñ–±–µ—Ä–ø–µ—Å",cat:"elite",hp:10,armor:"3",dmg:"1d10",aspects:["–Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –º–∞—à–∏–Ω–∞"],moves:[{n:"–ö—É—Å—å",t:"–£ –±–ª–∏–∂–Ω—å–æ–º—É –±–æ—é –º–æ–∂–µ –∑–º–µ–Ω—à–∏—Ç–∏ –∑–∞–≤–¥–∞–Ω—É —à–∫–æ–¥—É –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É –π –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥ —Å—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞."}]},
        {name:"–î–µ—Ä–µ–≤–Ω–∏–π —Ä–∞–¥—Å–∫–æ—Ä–ø—ñ–æ–Ω",cat:"elite",hp:12,armor:"2",dmg:"1d10 –∫–ª–µ—à–Ω—è–º–∏ +3 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–º—ñ—Ü–Ω–∏–π –ø–∞–Ω—Ü–∏—Ä"],moves:[{n:"–û—Ç—Ä—É—î–Ω–Ω—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É: 1d6 –æ—Ç—Ä—É—Ç–æ—é –Ω–∞ —Ö—ñ–¥ –∂–µ—Ä—Ç–≤–∏ (2 –∫–æ–ª–∞)."}]}
      ],
      boss:[
        {name:"–ì—ñ–≥–∞–Ω—Ç—Å—å–∫–∞ –º—É—Ä–∞—à–∏–Ω–∞ –º–∞—Ç–∫–∞",cat:"boss",hp:30,armor:"3",dmg:"2d6 –∂–≤–∞–ª–∞–º–∏ +3 –∫–∏—Å–ª–æ—Ç–æ—é",aspects:["–∫–æ—Ä–æ–ª–µ–≤–∞ –º—É—Ä–∞—à–Ω–∏–∫–∞, –ª–µ—Ç—é—á–∞"],moves:[{n:"–ü—ñ–¥–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –∫–ª–∏—á–µ 2√ó –º—É—Ä–∞—Ö‚Äë—Å–æ–ª–¥–∞—Ç."},{n:"–ü–æ–ª—ñ—Ç",t:"–†—É—Ö–∞—î—Ç—å—Å—è –¥–æ 2 –∑–æ–Ω –±–µ–∑ –ø–µ—Ä–µ—à–∫–æ–¥."},{n:"–ë–æ–º–±–∞—Ä–¥—É–≤–∞–Ω–Ω—è –∫–∏—Å–ª–æ—Ç–æ—é",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É: 2d6 –∫–∏—Å–ª–æ—Ç–æ—é –≤—Å—ñ–º —É –∑–æ–Ω—ñ —Ç–∞ ‚àí2 –±—Ä–æ–Ω—ñ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏ (–º—ñ–Ω.0)."}]},
        {name:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∏–π –∫–∞—Å–∞–¥–æ—Ä",cat:"boss",hp:35,armor:"3 (–ª–µ—Ç—é—á–∏–π)",dmg:"2d6 –∂–∞–ª–æ–º +1d6 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–ø–æ—Ç—É–∂–Ω–∞ –æ—Ç—Ä—É—Ç–∞"],moves:[{n:"–û—Ç—Ä—É–π–Ω–µ –∂–∞–ª–æ",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É: 1d10 –æ—Ç—Ä—É—Ç–æ—é –Ω–∞ —Ö—ñ–¥ –∂–µ—Ä—Ç–≤–∏ (3 –∫–æ–ª–∞)."},{n:"–ü–æ–ª—ñ—Ç",t:"–î–æ 2 –∑–æ–Ω –±–µ–∑ –ø–µ—Ä–µ—à–∫–æ–¥; –Ω–µ –º–æ–∂–Ω–∞ –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥."},{n:"–†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤—ñ–¥–Ω–æ–≤–ª—é—î 2d6 –û–ó."}]},
        {name:"–Ø–æ‚Äë“ë–∞–π",cat:"boss",hp:35,armor:"3",dmg:"2d6+2 –ª–∞–ø–∞–º–∏",aspects:["–≤–µ–ª–∏—á–µ–∑–Ω–∏–π –≤–µ–¥–º—ñ–¥—å‚Äë–º—É—Ç–∞–Ω—Ç"],moves:[{n:"–ú–æ–≥—É—Ç–Ω—ñ —â–µ–ª–µ–ø–∏",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –¥–æ–¥–∞—î –∞—Å–ø–µ–∫—Ç '—Å—Ö–æ–ø–ª–µ–Ω–∏–π'."},{n:"–°—Ç—Ä–∏–±–æ–∫",t:"–°—Ç—Ä–∏–±–æ–∫ –¥–æ —Å—É—Å—ñ–¥–Ω—å–æ—ó –∑–æ–Ω–∏ —ñ –∞—Ç–∞–∫–∞."},{n:"–ü—Ä–∏–≥–æ–ª–æ–º—à–ª–∏–≤–∏–π —Ä–µ–≤",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —É—Å—ñ –∂–∏–≤—ñ —Å—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∏, —â–æ —á—É—é—Ç—å, –æ—Ç—Ä–∏–º—É—é—Ç—å ‚àí2 –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏."}]}
      ]
    },
    mutants:{
      name:"–ú—É—Ç–∞–Ω—Ç–∏",
      statists:[],
      regular:[
        {name:"–û–∑–µ—Ä–Ω–∏–∫",cat:"regular",hp:8,armor:"1",dmg:"1d6+1 –ª–∞–ø–∞–º–∏",aspects:["–∞–º—Ñ—ñ–±—ñ—è, —à–≤–∏–¥–∫–∏–π —É –≤–æ–¥—ñ"],moves:[]},
        {name:"–•–∏–∂–∞ —Ä–æ—Å–ª–∏–Ω–∞",cat:"regular",hp:6,armor:"1",dmg:"1d6 —à–∏–ø–∞–º–∏ +2 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–º—É—Ç–æ–≤–∞–Ω–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω–∞ —Ä–æ—Å–ª–∏–Ω–∞"],moves:[]},
        {name:"–õ—ñ—Ç—É–Ω",cat:"regular",hp:8,armor:"–æ—Å–æ–±–ª–∏–≤–µ: –ø–æ–ª–æ–≤–∏–Ω–∞ —à–∫–æ–¥–∏ –≤—ñ–¥ –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–æ—ó –∑–±—Ä–æ—ó",dmg:"1d6 –º–∞—Ü—è–ª—å—Ü–µ–º +2 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–º—É—Ç–æ–≤–∞–Ω–∏–π –ø–ª–∞—Å–∫–∏–π —Ö—Ä–æ–±–∞–∫"],moves:[]}
      ],
      elite:[
        {name:"–ù—ñ—á–Ω–∏–π –º–∏—Å–ª–∏–≤–µ—Ü—å",cat:"elite",hp:12,armor:"1",dmg:"1d6 —É–∫—É—Å +1d6 –æ—Ç—Ä—É—Ç–æ—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–ø–æ—Ç–∞–π–ª–∏–≤–∏–π —Ö–∏–∂–∞–∫"],moves:[{n:"–°—Ç–µ–ª—Å‚Äë–∫–æ–π–æ—Ç",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —Å—Ç–∞—î –Ω–µ–≤–∏–¥–∏–º–∏–º —ñ —Ä—É—Ö–∞—î—Ç—å—Å—è –¥–æ 2 –∑–æ–Ω; –ø–æ—Ç—ñ–º –∑–∞–≤–¥–∞—î —à–∫–æ–¥–∏ –∞–±–æ —Ç—ñ–∫–∞—î."}]},
        {name:"–ö–µ–Ω—Ç–∞–≤—Ä",cat:"elite",hp:15,armor:"2",dmg:"1d10 –º–∞—Ü—è–ª—å—Ü—è–º–∏ +3 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–±–∞—á–∏—Ç—å –Ω–∞ –≤—Å—ñ –±–æ–∫–∏"],moves:[{n:"–†–∞–¥—ñ–æ–∞–∫—Ç–∏–≤–Ω–∏–π –ø–ª—é–≤–æ–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—ñ –¥–æ 2 –∑–æ–Ω ‚Äî 2d6 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)."}]},
        {name:"–í–∞–Ω–∞–º—ñ–Ω–≥–æ",cat:"elite",hp:12,armor:"2",dmg:"1d6 –º–∞—Ü—è–ª—å—Ü—è–º–∏ +3 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–∞–±—Å–æ–ª—é—Ç–Ω–æ —á—É–∂–∞ –∞–Ω–∞—Ç–æ–º—ñ—è"],moves:[{n:"–Ü –∫—É–¥–∏ –π–æ–º—É –±–∏—Ç–∏?",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —ñ–≥–Ω–æ—Ä—É—î —â–æ–π–Ω–æ –∑–∞–≤–¥–∞–Ω—É —à–∫–æ–¥—É."}]},
        {name:"–î–∏—Ç–∏–Ω—á–∞ –ü–∞–∑—É—Ä–∞ –°–º–µ—Ä—Ç—ñ",cat:"elite",hp:15,armor:"2",dmg:"1d10+2 –ø–∞–∑—É—Ä–∞–º–∏ (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ)",aspects:["–≥–æ—Å—Ç—Ä—ñ, —è–∫ –±—Ä–∏—Ç–≤–∞, –ø–∞–∑—É—Ä–∏"],moves:[{n:"–ú–∞–º–æ, —Ç–∞—Ç—É!",t:"–Ø–∫—â–æ –ø–æ—Ä—É—á –¥–æ—Ä–æ—Å–ª–∏–π –ü–∞–∑—É—Ä ‚Äî –≤—ñ–Ω –ø—Ä–∏–π–º–∞—î –≤—Ö—ñ–¥–Ω—É —à–∫–æ–¥—É –Ω–∞ —Å–µ–±–µ."}]}
      ],
      boss:[
        {name:"–ú–∞—Ç–∫–∞ –≤–∞–Ω–∞–º—ñ–Ω–≥–æ",cat:"boss",hp:35,armor:"4 (–ø—Ä–∏ —á–∞—Å—Ç–∫–æ–≤–æ–º—É —É—Å–ø—ñ—Ö—É –æ—Ç—Ä–∏–º—É—î –ø–æ–ª–æ–≤–∏–Ω—É —à–∫–æ–¥–∏)",dmg:"2d6 –º–∞—Ü—è–ª—å—Ü—è–º–∏ +1d6 —Ä–∞–¥—ñ–∞—Ü—ñ—î—é (—ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)",aspects:["–± º—î—Ç—å—Å—è –¥–æ —Å–º–µ—Ä—Ç—ñ"],moves:[{n:"–Ü –∫—É–¥–∏ —ó–π –±–∏—Ç–∏?",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —ñ–≥–Ω–æ—Ä—É—î —â–æ–π–Ω–æ –∑–∞–≤–¥–∞–Ω—É —à–∫–æ–¥—É."},{n:"–°—Ç—Ä–∏–±–æ–∫",t:"–°—Ç—Ä–∏–±–æ–∫ —É —Å—É—Å—ñ–¥–Ω—é –∑–æ–Ω—É —ñ –∞—Ç–∞–∫–∞."},{n:"–õ—é—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —à–∫–æ–¥–∏—Ç—å —É—Å—ñ–º —Å—É–ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º —É –∑–æ–Ω—ñ."}]},
        {name:"–°–∞–º–µ—Ü—å –ü–∞–∑—É—Ä–∞ –°–º–µ—Ä—Ç—ñ",cat:"boss",hp:35,armor:"3",dmg:"2d6+3 –ø–∞–∑—É—Ä–∞–º–∏ (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ)",aspects:["–Ω–∞–π—Å—Ç—Ä–∞—à–Ω—ñ—à–∞ —Ç–≤–∞—Ä—é–∫–∞ —É –ü—É—Å—Ç—Ü—ñ"],moves:[{n:"–ü—ñ–¥–π–æ–º‚Äë–ø–µ—Ä–µ–≤–æ—Ä–æ—Ç",t:"–ö–∏–¥–∞—î –æ–¥–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ —ñ–Ω—à–æ–≥–æ: –æ–±–∏–¥–≤–∞ –æ—Ç—Ä–∏–º—É—é—Ç—å 2d6."},{n:"–†–∏–≤–æ–∫",t:"–†–∏–≤–æ–∫ —É —Å—É—Å—ñ–¥–Ω—é –∑–æ–Ω—É, –∞—Ç–∞–∫–∞ —ñ –∑–±–∏—Ç—Ç—è –∑ –Ω—ñ–≥."},{n:"–ñ–∏–≤—É—á—ñ—Å—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø—Ä–∏ 0 –û–ó ‚Äî –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ 5 –û–ó."}]},
        {name:"–°–∞–º–∏—Ü—è –ü–∞–∑—É—Ä–∞ –°–º–µ—Ä—Ç—ñ",cat:"boss",hp:45,armor:"4",dmg:"3d6 –ø–∞–∑—É—Ä–∞–º–∏ (—ñ–≥–Ω–æ—Ä. 4 –±—Ä–æ–Ω—ñ)",aspects:["–Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –∑–ª–∞ –º–∞—Ç—É—Å—è"],moves:[{n:"–¢—ñ–ª—å–∫–∏ –Ω–µ –ø–æ –¥—ñ—Ç—è—Ö",t:"–©–æ—Ä–∞–∑—É –ø—ñ—Å–ª—è —Å–º–µ—Ä—Ç—ñ –¥–∏—Ç–∏–Ω—á–∞—Ç–∏: +5 –û–ó —ñ +2 –¥–æ —à–∫–æ–¥–∏ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏."},{n:"–†–∏–≤–æ–∫",t:"–†–∏–≤–æ–∫ —É —Å—É—Å—ñ–¥–Ω—é –∑–æ–Ω—É, –∞—Ç–∞–∫–∞ —ñ –∑–±–∏—Ç—Ç—è –∑ –Ω—ñ–≥."},{n:"–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∞ –∂–∏–≤—É—á—ñ—Å—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø—Ä–∏ 0 –û–ó ‚Äî –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ 10 –û–ó."},{n:"–õ—é—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É (—ñ –ø—ñ—Å–ª—è —Å–º–µ—Ä—Ç—ñ –¥–∏—Ç–∏–Ω—á–∞—Ç–∏) —à–∫–æ–¥–∏—Ç—å —É—Å—ñ–º —É –∑–æ–Ω—ñ."},{n:"–ù–µ–≤–ø–∏–Ω–Ω—ñ—Å—Ç—å",t:"–ù—ñ—â–æ –Ω–µ –º–æ–∂–µ –∑–∞–≤–∞–¥–∏—Ç–∏ –ø–µ—Ä–µ—Å—É–≤–∞–Ω–Ω—é."}]}
      ]
    },
    legion:{
      name:"–õ–µ–≥—ñ–æ–Ω –¶–µ–∑–∞—Ä—è",
      statists:[{name:"–ë–æ–π–æ–≤–∏–π —Ä–∞–±",cat:"statist",hp:3,armor:"0",dmg:"1d6 –ª–µ–≥–∫–∞ –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é",aspects:["–≥–∞—Ä–º–∞—Ç–Ω–µ –º º—è—Å–æ"],moves:[]}],
      regular:[{name:"–õ–µ–≥—ñ–æ–Ω–µ—Ä",cat:"regular",hp:7,armor:"1",dmg:"1d6 –ª–µ–≥–∫–∞ –∑–±—Ä–æ—è; 1√ó —Å–∞–º–æ—Ä–æ–±–Ω–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (1d6) (–º–∞–∫—Å.)",aspects:["—Ä—è–¥–æ–≤–∏–π –≤–æ—ó–Ω –õ–µ–≥—ñ–æ–Ω—É"],moves:[]}],
      elite:[
        {name:"–¶–µ–Ω—Ç—É—Ä—ñ–æ–Ω",cat:"elite",hp:15,armor:"3",dmg:"1d10+1 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è (—Å–∏–ª–æ–≤—ñ –∫—É–ª–∞–∫–∏/—Å–ø–∏—Å/–ø–ª–∞–∑–º–∞)",aspects:["–µ–ª—ñ—Ç–∞, –∑–Ω–∞—î —Ç–∞–∫—Ç–∏–∫—É"],moves:[{n:"–î–µ—Ü–∏–º–∞—Ü—ñ—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤–±–∏–≤–∞—î –ª–µ–≥—ñ–æ–Ω–µ—Ä–∞ —É —Å–≤–æ—ó–π –∑–æ–Ω—ñ: —ñ–Ω—à—ñ –ª–µ–≥—ñ–æ–Ω–µ—Ä–∏ –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å 5 –û–ó —ñ –æ—Ç—Ä–∏–º—É—é—Ç—å +1 —à–∫–æ–¥–∏ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏."}]},
        {name:"–§—Ä—É–º–µ–Ω—Ç–∞—Ä—ñ–π",cat:"elite",hp:12,armor:"2",dmg:"1d10 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è; 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["–º–∞–π—Å—Ç–µ—Ä‚Äë—à–ø–∏–≥—É–Ω"],moves:[{n:"–°—Ç–µ–ª—Å‚Äë–±–æ–π",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –Ω–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å —ñ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –¥–æ 2 –∑–æ–Ω; –¥–∞–ª—ñ —É–¥–∞—Ä –∞–±–æ –≤—Ç–µ—á–∞."}]}
      ],
      boss:[{name:"–õ–µ–≥–∞—Ç",cat:"boss",hp:40,armor:"4",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ); 2√ó –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6) —ñ –∫—Ä–æ–≤–æ—Ç–µ—á–∞ 1d6/—Ö—ñ–¥",aspects:["–Ω–∞–π–∫—Ä–∞—â–∏–π –≤–æ—ó–Ω –¶–µ–∑–∞—Ä—è"],moves:[{n:"–£–ª—å—Ç—Ä–∞—Å—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 3d6 –û–ó."},{n:"–ü–æ–º–∞—Ö –ú–µ—á–∞ –°—Ö–æ–¥—É",t:"2d6 —É—Å—ñ–º —É –∑–æ–Ω—ñ, –≤—ñ–¥–∫–∏–¥–∞—î –Ω–∞ 1 –∑–æ–Ω—É, –∑–±–∏–≤–∞—î –∑ –Ω—ñ–≥, –ø—É—Å–∫–∞—î –∫—Ä–æ–≤ (1d10 –Ω–∞ –ø–æ—á–∞—Ç–∫—É —ó—Ö–Ω—å–æ–≥–æ —Ö–æ–¥—É, —ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é)."},{n:"Ave! True to Caesar!",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –±–æ–π–æ–≤–∏–π –∫–ª–∏—á: —É—Å—ñ –±—ñ–π—Ü—ñ –õ–µ–≥—ñ–æ–Ω—É, —â–æ —á—É—é—Ç—å, –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å 5 –û–ó —ñ –æ—Ç—Ä–∏–º—É—é—Ç—å +2 –¥–æ —à–∫–æ–¥–∏ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏."}]}]
    },
    ncr:{
      name:"–ê—Ä–º—ñ—è –ù–ö–†",
      statists:[],
      regular:[{name:"–†—è–¥–æ–≤–∏–π –ù–ö–†",cat:"regular",hp:5,armor:"1",dmg:"1d6+1 –ª–µ–≥–∫–∞ –∑–±—Ä–æ—è; 1√ó –∞—Ä–º—ñ–π—Å—å–∫–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (2d6) (–º–∞–∫—Å.)",aspects:["—Ä—è–¥–æ–≤–∏–π —Å–æ–ª–¥–∞—Ç –ù–ö–†"],moves:[]}],
      elite:[
        {name:"–õ–µ–π—Ç–µ–Ω–∞–Ω—Ç –ù–ö–†",cat:"elite",hp:12,armor:"2",dmg:"1d10 —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è; 2√ó –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6)",aspects:["–∫–æ–º–∞–Ω–¥–∏—Ä –∑–∞–≥–æ–Ω—É, –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–æ–≤–∞–Ω–∏–π"],moves:[{n:"–ü–µ—Ä–µ–≥—Ä—É–ø—É—î–º–æ—Å—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –Ω–∞–∫–∞–∑: —É—Å—ñ –ù–ö–†, —Ö—Ç–æ —á—É—î, –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è –Ω–∞ 1 –∑–æ–Ω—É —ñ –≤—ñ–¥–Ω–æ–≤–ª—é—é—Ç—å –ø–æ 3 –û–ó."}]},
        {name:"–†–µ–π–Ω–¥–∂–µ—Ä –ù–ö–†",cat:"elite",hp:18,armor:"3 (—Ä–µ–π–Ω–¥–∂–µ—Ä—Å—å–∫–∞ –±—Ä–æ–Ω—è)",dmg:"2d6 –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è; 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["—Å–ø–µ—Ü–ø—Ä–∏–∑–Ω–∞—á–µ–Ω–µ—Ü—å, –º–∞—Å–∫—É–≤–∞–Ω–Ω—è –π –≤–∏–∂–∏–≤–∞–Ω–Ω—è"],moves:[{n:"–ü—Ä–∏—Ü—ñ–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª",t:"–ù–∞ –¥–æ–¥–∞—á—É –¥–æ —à–∫–æ–¥–∏: –≤–∏–±–∏–π –∑–±—Ä–æ—é; –∞–±–æ –ø—Ä–∏–≥–æ–ª–æ–º—à –Ω–∞ 1 –¥—ñ—é (1√ó/—Ü—ñ–ª—å/—Å—Ü–µ–Ω–∞); –∞–±–æ –∑–±–∏–π –∑ –Ω—ñ–≥; –∞–±–æ —à–∫–æ–¥–∞ —ñ–≥–Ω–æ—Ä—É—î –±—Ä–æ–Ω—é."}]},
        {name:"–®—Ç—É—Ä–º–æ–≤–∏–∫ –ù–ö–†",cat:"elite",hp:20,armor:"4 (—Å–∏–ª–æ–≤–∞ –±—Ä–æ–Ω—è –±–µ–∑ –∫–∞—Ä–∫–∞—Å—É)",dmg:"2d6 –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è; 2√ó –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6)",aspects:["–≤–∞–∂–∫–æ–æ–∑–±—Ä–æ—î–Ω–∏–π –≤–µ—Ç–µ—Ä–∞–Ω"],moves:[{n:"–°—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –≤—ñ–¥–Ω–æ–≤–ª—é—î 1d6+4 –û–ó."}]}
      ],
      boss:[{name:"–ï–ª—ñ—Ç–Ω–∏–π —Ä–µ–π–Ω–¥–∂–µ—Ä –ù–ö–†",cat:"boss",hp:30,armor:"4 (–≤–∞–∂–∫–∞ —Ä–µ–π–Ω–¥–∂–µ—Ä—Å—å–∫–∞)",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ); 2√ó –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6)",aspects:["–Ω–∞–π–∫—Ä–∞—â–∏–π –≤–æ—ó–Ω –†–µ—Å–ø—É–±–ª—ñ–∫–∏"],moves:[{n:"–£–ª—å—Ç—Ä–∞—Å—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 3d6 –û–ó."},{n:"–ü—Ä–∏—Ü—ñ–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª",t:"–ù–∞ –¥–æ–¥–∞—á—É: +1d6 —à–∫–æ–¥–∏; –∞–±–æ –≤–∏–±–∏–π –∑–±—Ä–æ—é; –∞–±–æ –ø—Ä–∏–≥–æ–ª–æ–º—à (1√ó/—Ü—ñ–ª—å/—Å—Ü–µ–Ω–∞); –∞–±–æ –∑–±–∏–π –∑ –Ω—ñ–≥; –∞–±–æ –ø–æ–≤–Ω–µ —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—ñ."},{n:"–°—Ç–µ–ª—Å‚Äë–±–æ–π",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –Ω–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å —ñ —Ä—É—Ö –¥–æ 2 –∑–æ–Ω; –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –∞—Ç–∞–∫–∞ –∞–±–æ –≤—Ç–µ—á–∞."}]}]
    },
    bos:{
      name:"–ë—Ä–∞—Ç—Å—Ç–≤–æ –°—Ç–∞–ª—ñ",
      statists:[],
      regular:[{name:"–ü–∏—Å–∞—Ä",cat:"regular",hp:8,armor:"2",dmg:"1d6+3 —Å–µ—Ä–µ–¥–Ω—è –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∞ –∑–±—Ä–æ—è; 1√ó –∞—Ä–º—ñ–π—Å—å–∫–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (2d6) (–º–∞–∫—Å.)",aspects:["–ø–∏—Å–∞—Ä –ë—Ä–∞—Ç—Å—Ç–≤–∞"],moves:[{n:"–°—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 5 –û–ó."}]}],
      elite:[{name:"–õ–∏—Ü–∞—Ä",cat:"elite",hp:15,armor:"3 (–±–æ–π–æ–≤–∞ –±—Ä–æ–Ω—è)",dmg:"2d6 (—ñ–≥–Ω–æ—Ä. 1 –±—Ä–æ–Ω—ñ); 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["–∑–∞–≥–∞—Ä—Ç–æ–≤–∞–Ω–∏–π –≤–µ—Ç–µ—Ä–∞–Ω"],moves:[{n:"–ë–æ–π–æ–≤—ñ —Ä–µ—Ñ–ª–µ–∫—Å–∏",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø–µ—Ä–µ–∫–∏–¥–∞—î –≤—Å—ñ –∫—É–±–∏–∫–∏ —Å–≤–æ—î—ó –∞–±–æ –≤—Ö—ñ–¥–Ω–æ—ó —à–∫–æ–¥–∏ –π –æ–±–∏—Ä–∞—î –Ω–∞–π–∫—Ä–∞—â–µ."},{n:"–°—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 5 –û–ó."}]}],
      boss:[{name:"–ü–∞–ª–∞–¥–∏–Ω",cat:"boss",hp:35,armor:"5 (—Å–∏–ª–æ–≤–∞ –±—Ä–æ–Ω—è)",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ); 2√ó –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6)",aspects:["–ø–æ–≤–∞–∂–Ω–∏–π –≤–∏–≥–ª—è–¥"],moves:[{n:"–°—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫",t:"1d6+4 –û–ó —Ä–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É."},{n:"–°–∏–ª–æ–≤–∏–π —Ä–∏–≤–æ–∫",t:"2d6 —É—Å—ñ–º —É –∑–æ–Ω—ñ —ñ –∑–±–∏–≤–∞—î –∑ –Ω—ñ–≥; –ø–æ—Ç—ñ–º —Ä—É—Ö —ñ 2d6 –ø–æ —Ü—ñ–ª—ñ –∑ –Ω–æ–∫–¥–∞—É–Ω–æ–º."},{n:"–†–æ–∑–ø–∞–¥",t:"–ö–æ–ª–∏ –∑–Ω–∏–∂—É—î –û–ó —Ü—ñ–ª—ñ –¥–æ 0 ‚Äî —É—Å—ñ –≤–æ—Ä–æ–≥–∏ –≤ –∑–æ–Ω—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å 1d10 –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–æ—ó, —ñ–≥–Ω–æ—Ä. –±—Ä–æ–Ω—é."}]}]
    },
    enclave:{
      name:"–ê–Ω–∫–ª–∞–≤",
      statists:[],
      regular:[],
      elite:[{name:"–†—è–¥–æ–≤–∏–π –±–æ—î—Ü—å –ê–Ω–∫–ª–∞–≤—É",cat:"elite",hp:15,armor:"3 (–±–æ–π–æ–≤–∞ –±—Ä–æ–Ω—è)",dmg:"2d6 (—ñ–≥–Ω–æ—Ä. 1 –±—Ä–æ–Ω—ñ) ‚Äî –≤–∞–∂–∫–∞ –µ–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∞; 1√ó –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",aspects:["—É–ª—é–±–ª–µ–Ω–∏–π –≤–æ—Ä–æ–≥: +2 —à–∫–æ–¥–∏ –º—É—Ç–∞–Ω—Ç–∞–º/—Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç–∞–º/–≥—É–ª—è–º"],moves:[{n:"–°—Ç–∏–º–ø–∞–∫",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É 5 –û–ó."}]}],
      boss:[
        {name:"–®—Ç—É—Ä–º–æ–≤–∏–∫ –ê–Ω–∫–ª–∞–≤—É",cat:"boss",hp:30,armor:"6 (–ø–æ–∫—Ä–∞—â–µ–Ω–∞ —Å–∏–ª–æ–≤–∞ –±—Ä–æ–Ω—è)",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ); 2√ó –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6)",aspects:["–∑–∞–∫—É—Ç–∏–π —É –ø–æ–∫—Ä–∞—â–µ–Ω—É —Å–∏–ª–æ–≤—É –±—Ä–æ–Ω—é"],moves:[{n:"–£–ª—å—Ç—Ä–∞—Å—Ç–∏–º–ø–∞–∫",t:"3d6 –û–ó —Ä–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É."},{n:"–°–∏–ª–æ–≤–∏–π —Ä–∏–≤–æ–∫",t:"2d6 —É—Å—ñ–º —É –∑–æ–Ω—ñ —ñ –∑–±–∏–≤–∞—î –∑ –Ω—ñ–≥; –ø–æ—Ç—ñ–º —Ä—É—Ö —ñ 2d6 –ø–æ —Ü—ñ–ª—ñ –∑ –Ω–æ–∫–¥–∞—É–Ω–æ–º."},{n:"–ë–æ–π–æ–≤—ñ —Ä–µ—Ñ–ª–µ–∫—Å–∏",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø–µ—Ä–µ–∫–∏–¥–∞—î –≤—Å—ñ –∫—É–±–∏–∫–∏ —Å–≤–æ—î—ó –∞–±–æ –≤—Ö—ñ–¥–Ω–æ—ó —à–∫–æ–¥–∏ –π –æ–±–∏—Ä–∞—î –Ω–∞–π–∫—Ä–∞—â–µ."}]},
        {name:"–í–µ—Ä—Ç–∏–±–µ—Ä–¥",cat:"boss",hp:40,armor:"4 (–ª—ñ—Ç–∞—î, —ñ–≥–Ω–æ—Ä. —Ä–∞–¥—ñ–∞—Ü—ñ—é —Ç–∞ –æ—Ç—Ä—É—Ç–∏; –Ω–µ –º–æ–∂–Ω–∞ –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥)",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 2 –±—Ä–æ–Ω—ñ) ‚Äî –ª–∞–∑–µ—Ä–Ω–∏–π –º—ñ–Ω—ñ–≥–∞–Ω; 2√ó —Ä–∞–∫–µ—Ç–∏ (3d6)",aspects:["–±–æ–π–æ–≤–∏–π –≥–µ–ª—ñ–∫–æ–ø—Ç–µ—Ä"],moves:[{n:"–ë–æ–º–±–∞—Ä–¥—É–≤–∞–Ω–Ω—è",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É —à–∫–æ–¥–∏—Ç—å —É –¥–≤–æ—Ö –±—É–¥—å‚Äë—è–∫–∏—Ö –∑–æ–Ω–∞—Ö."},{n:"–ü–æ–ª—ñ—Ç",t:"–ü–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è –º—ñ–∂ –±—É–¥—å‚Äë—è–∫–∏–º–∏ –∑–æ–Ω–∞–º–∏; –Ω–µ –º–æ–∂–Ω–∞ –∑–±–∏—Ç–∏ –∑ –Ω—ñ–≥."},{n:"–ö—Ä—É—Ç–µ –ø—ñ–∫–µ",t:"–ü—Ä–∏ 0 –û–ó –ø–∞–¥–∞—î –π –≤–∏–±—É—Ö–∞—î: 3d6 —É –≤–∏–±—Ä–∞–Ω—ñ–π –∑–æ–Ω—ñ."}]},
        {name:"–ì–µ–Ω–µ—Ç–∏—á–Ω–æ –º–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —Å—É–ø–µ—Ä—Å–æ–ª–¥–∞—Ç",cat:"boss",hp:50,armor:"6 (–ø–æ—Å–∏–ª–µ–Ω–∞ —Å–∏–ª–æ–≤–∞ –±—Ä–æ–Ω—è)",dmg:"3d6 (—ñ–≥–Ω–æ—Ä. 3 –±—Ä–æ–Ω—ñ); –≤–±—É–¥–æ–≤–∞–Ω–∞ —Ä–∞–∫–µ—Ç–Ω–∏—Ü—è 2√ó (3d6)",aspects:["–≥–æ—Ä–∞ –º º—è–∑—ñ–≤ —ñ –±—Ä–æ–Ω—ñ"],moves:[{n:"–¶–µ –Ω–µ –º–æ—è —Ñ—ñ–Ω–∞–ª—å–Ω–∞ —Ñ–æ—Ä–º–∞",t:"–ö–æ–ª–∏ –û–ó ‚â§ 25 ‚Äî +2 –¥–æ —à–∫–æ–¥–∏ –¥–æ –∫—ñ–Ω—Ü—è —Å—Ü–µ–Ω–∏."},{n:"–¢–æ—á–Ω–∏–π —É–¥–∞—Ä",t:"–ù–∞ –¥–æ–¥–∞—á—É –¥–æ —à–∫–æ–¥–∏: +1d6; –∞–±–æ –≤–∏–±–∏–π –∑–±—Ä–æ—é; –∞–±–æ –ø—Ä–∏–≥–æ–ª–æ–º—à (1√ó/—Ü—ñ–ª—å/—Å—Ü–µ–Ω–∞); –∞–±–æ –∑–±–∏–π –∑ –Ω—ñ–≥; –∞–±–æ –ø–æ–≤–Ω–µ —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—ñ."},{n:"–ù–µ–π–º–æ–≤—ñ—Ä–Ω–∞ –∂–∏–≤—É—á—ñ—Å—Ç—å",t:"–†–∞–∑ –∑–∞ —Å—Ü–µ–Ω—É –ø—Ä–∏ 0 –û–ó ‚Äî –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞ 10 –û–ó."},{n:"–ö–æ—Å–º—ñ—á–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –ê–Ω–∫–ª–∞–≤—É",t:"–ñ–±—É—Ä–ª—è—î –≤–æ—Ä–æ–≥–∞ –≤ —ñ–Ω—à–æ–≥–æ (2d6 –æ–±–æ–º)."},{n:"–ù–µ–≤–ø–∏–Ω–Ω—ñ—Å—Ç—å",t:"–ù—ñ—â–æ –Ω–µ –º–æ–∂–µ –∑–∞–≤–∞–¥–∏—Ç–∏ –ø–µ—Ä–µ—Å—É–≤–∞–Ω–Ω—é."}]}
      ]
    }
  }

  // –¢–∞–±–ª–∏—Ü—ñ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥ (d10)
  const Rewards = {
    easy:[
      "–®–∫—ñ—Ä–∏/–º º—è—Å–æ/—è–π—Ü—è –Ω–∞ 5 –∫—Ä–∏—à–æ–∫",
      "3‚Äì5 –æ–¥. –ª–µ–≥–∫–æ—ó –∑–±—Ä–æ—ó –∞–±–æ 2‚Äì3 —Å–∞–º–æ—Ä–æ–±–Ω—ñ –≥—Ä–∞–Ω–∞—Ç–∏",
      "–°–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –∞–±–æ 2 –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6)",
      "–ü–æ—à–∫–æ–¥–∂–µ–Ω–∞ –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è –∞–±–æ –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6)",
      "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è",
      "–ü–æ—à–∫–æ–¥–∂–µ–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è",
      "10 –æ–¥. –ü—Ä–∏–ø–∞—Å—ñ–≤/–∑–∞–ø–∞—Å—É —Ö–æ–¥—É –∫–∞—Ä–∞–≤–∞–Ω—É",
      "–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ –Ω–∞ —Å—É–º—É –¥–æ 5 –∫—Ä–∏—à–æ–∫",
      "–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∏ (—Å—Ç–∏–º–ø–∞–∫–∏ —Ç–æ—â–æ) –Ω–∞ —Å—É–º—É –¥–æ 5 –∫—Ä–∏—à–æ–∫",
      "–î–æ–∑–∞ —Å–∏–ª—å–Ω–æ—ó –æ—Ç—Ä—É—Ç–∏ –∞–±–æ 2 –¥–æ–∑–∏ —Å–µ—Ä–µ–¥–Ω—å–æ—ó"],
    medium:[
      "–®–∫—ñ—Ä–∏/–º º—è—Å–æ/—è–π—Ü—è –Ω–∞ 10 –∫—Ä–∏—à–æ–∫",
      "2 –æ–¥. —Å–µ—Ä–µ–¥–Ω—å–æ—ó –∑–±—Ä–æ—ó –∞–±–æ 3‚Äì4 –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6)",
      "–í–∞–∂–∫–∞ –∑–±—Ä–æ—è –∞–±–æ 2 –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6)",
      "–ï–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∞ –∞–±–æ –æ—Å–æ–±–ª–∏–≤–∞ —Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è",
      "–°–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è –∞–±–æ –æ—Å–æ–±–ª–∏–≤–∞ –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è",
      "–ü–æ—à–∫–æ–¥–∂–µ–Ω–∞ –≤–∞–∂–∫–∞ –±—Ä–æ–Ω—è",
      "10 –æ–¥. –ü—Ä–∏–ø–∞—Å—ñ–≤/–∑–∞–ø–∞—Å—É —Ö–æ–¥—É –∫–∞—Ä–∞–≤–∞–Ω—É + –±–∞—Ä–∞—Ö–ª–æ –¥–æ 5 –∫—Ä–∏—à–æ–∫",
      "–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ –Ω–∞ —Å—É–º—É –¥–æ 10 –∫—Ä–∏—à–æ–∫",
      "–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∏ –Ω–∞ —Å—É–º—É –¥–æ 10 –∫—Ä–∏—à–æ–∫",
      "–î–æ–∑–∞ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ—ó –æ—Ç—Ä—É—Ç–∏ –∞–±–æ 2 –¥–æ–∑–∏ —Å–∏–ª—å–Ω–æ—ó"],
    hard:[
      "–Ø–π—Ü–µ –≤–∞–Ω–∞–º—ñ–Ω–≥–æ –∞–±–æ 2 –ø–æ—Ä—Ü—ñ—ó –º º—è—Å–∞ —è–æ‚Äë“ë–∞—è",
      "2 –æ–¥. –≤–∞–∂–∫–æ—ó –∑–±—Ä–æ—ó –∞–±–æ 3‚Äì4 –ø–ª–∞–∑–º–æ–≤—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (3d6)",
      "–ü–æ—à–∫–æ–¥–∂–µ–Ω–∞ —Ä—ñ–¥–∫—ñ—Å–Ω–∞ –∑–±—Ä–æ—è –∞–±–æ 2‚Äì3 –ï–ú‚Äë–≥—Ä–∞–Ω–∞—Ç–∏",
      "–ï–Ω–µ—Ä–≥–µ—Ç–∏—á–Ω–∞ –∞–±–æ –æ—Å–æ–±–ª–∏–≤–∞ –≤–∞–∂–∫–∞ –∑–±—Ä–æ—è",
      "–í–∞–∂–∫–∞ –±—Ä–æ–Ω—è –∞–±–æ –æ—Å–æ–±–ª–∏–≤–∞ —Å–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è",
      "–ü–æ—à–∫–æ–¥–∂–µ–Ω–∞ —Ä—ñ–¥–∫—ñ—Å–Ω–∞ –≤–∞–∂–∫–∞ –±—Ä–æ–Ω—è",
      "15 –æ–¥. –ü—Ä–∏–ø–∞—Å—ñ–≤/–∑–∞–ø–∞—Å—É + –±–∞—Ä–∞—Ö–ª–æ –¥–æ 15 –∫—Ä–∏—à–æ–∫",
      "–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ —Ç–∞ –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∏ –Ω–∞ —Å—É–º—É –¥–æ 20 –∫—Ä–∏—à–æ–∫",
      "–°—Ç–µ–ª—Å‚Äë–±–æ–π",
      "2 –¥–æ–∑–∏ –æ—Ç—Ä—É—Ç–∏ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –∫–∞—Å–∞–¥–æ—Ä–∞"]
  }

  // ---------- –õ–û–ì–Ü–ö–ê –°–¶–ï–ù–ê–†–Ü–á–í ----------
  const Cases = {
    easy:[
      {statist:"1d4+5"},
      {regular:"1d2+1"},
      {regular:1,statist:"1d4+1"}
    ],
    medium:[
      {elite:"1d2+1"},
      {elite:1,regular:"1d2+3"}
    ],
    hard:[
      {boss:1,elite:1},
      {boss:1,regular:"1d4+1"},
      {elite:"1d2+3"}
    ],
    deadly:[
      {boss:1,elite:"1d2+2"},
      {boss:2}
    ]
  }

  const ORDER=["statist","regular","elite","boss"]
  const POWER={statist:1,regular:3,elite:9,boss:27}

  function nearestAvailableCat(data,target){
    // —Å–ø—Ä–æ–±–∞ –≤–Ω–∏–∑ ‚Üí –≤–≥–æ—Ä—É
    const idx=ORDER.indexOf(target)
    for(let d=0; d<ORDER.length; d++){
      const down=idx-d
      if(down>=0){ const c=ORDER[down]; if((data[c]||[]).length) return c }
      const up=idx+d
      if(up<ORDER.length){ const c=ORDER[up]; if((data[c]||[]).length) return c }
    }
    return target
  }

  function convertCount(n,from,to){
    // –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –º—ñ–∂ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ –∑–∞ "√ó3 –Ω–∞ —â–∞–±–µ–ª—å"
    const pf=POWER[from], pt=POWER[to]
    // –æ–∫—Ä—É–≥–ª–µ–Ω–Ω—è –≤–Ω–∏–∑: –¥–æ–∑–≤–æ–ª—è—î–º–æ 0
    return Math.max(0, Math.floor((n*pf)/pt))
  }

  function allocateUnits(factionKey, catNeeded, count){
    const data = DB[factionKey]
    const have = (data[catNeeded]||[]).length>0
    let useCat = have ? catNeeded : nearestAvailableCat(data, catNeeded)
    // –ü–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É –≤–∏–±—Ä–∞–Ω—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
    const finalCount = have ? count : convertCount(count, catNeeded, useCat)
    if(finalCount<=0) return []
    const pool = data[useCat]
    if(!pool || !pool.length) return []
    // –û–±—Ä–∞—Ç–∏ ‚â§2 –≤–∞—Ä—ñ–∞—Ü—ñ—ó
    let variants = [...pool]
    // –ø–µ—Ä–µ–º—ñ—à–∞—Ç–∏
    variants.sort(()=>Math.random()-.5)
    if(finalCount<2 || variants.length===1){ variants = [variants[0]] }
    else { variants = variants.slice(0,2) }
    // –†–æ–∑–ø–æ–¥—ñ–ª –∫—ñ–ª—å–∫–æ—Å—Ç—ñ
    let split = []
    if(variants.length===1){ split=[finalCount] }
    else {
      const a = randInt(1, finalCount-1)
      split=[a, finalCount-a]
    }
    return variants.map((v,i)=>({cat:useCat,count:split[i]||0,enemy:v}))
  }

  function clearBuckets(){
    document.querySelectorAll('.slot .list').forEach(l=>l.innerHTML='')
    ORDER.forEach(c=>{
      const el = document.getElementById('c-'+c)
      if(el) el.textContent='0'
    })
  }

  function addEnemyCard(bucketEl, entry){
    const {enemy,count}=entry
    const wrap = document.createElement('div')
    wrap.className='enemy'
    wrap.innerHTML = `
      <div class="ehd"><div class="name">${enemy.name}</div><div class="qty">√ó ${count}</div></div>
      <div class="ebd">
        <div class="kv"><span class="k">‚ù§Ô∏è –û–ó:</span><span class="v">${enemy.hp}</span></div>
        <div class="kv"><span class="k">üõ°Ô∏è –ë—Ä–æ–Ω—è:</span><span class="v">${enemy.armor}</span></div>
        <div class="kv"><span class="k">üí• –®–∫–æ–¥–∞:</span><span class="v dice">${parseAndWrapDice(enemy.dmg)}</span></div>
        ${enemy.aspects?.length? `<div class="section-title">üß© –ê—Å–ø–µ–∫—Ç–∏</div><div class="chips">${enemy.aspects.map(a=>`<span class="chip">${a}</span>`).join('')}</div>`:''}
        ${enemy.moves?.length? `<div class="section-title">‚ôüÔ∏è –•–æ–¥–∏</div><div class="moves">${enemy.moves.map(m=>`<div class="move"><div class="mn">${m.n}</div><div class="mt dice">${parseAndWrapDice(m.t)}</div></div>`).join('')}</div>`:''}
        ${enemy.notes? `<div class="section-title">–ü—Ä–∏–º—ñ—Ç–∫–∞</div><div class="small muted dice">${parseAndWrapDice(enemy.notes)}</div>`:''}
      </div>`
    const listEl = bucketEl?.querySelector('.list')
    if(listEl) listEl.appendChild(wrap)
  }

  function renderBattle(factionKey, pickedCase, allocations){
    clearBuckets()
    // –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–µ–π—Å
    const caseText = Object.entries(pickedCase).map(([k,v])=>`${labelCat(k)}: ${typeof v==='number'? v : v}`).join(' ‚Ä¢ ')
    const infoEl = document.getElementById('caseInfo')
    if(infoEl) infoEl.textContent = `–ö–µ–π—Å: ${caseText}`

    // –≤—ñ–¥—Ä–µ–Ω–¥–µ—Ä–∏—Ç–∏
    const totalByCat = {statist:0,regular:0,elite:0,boss:0}
    allocations.forEach(({targetCat, entries})=>{
      if(entries.length){
        entries.forEach(e=>{
          const slot = document.querySelector(`.slot[data-bucket="${e.cat}"]`)
          if(slot && e.count>0){ addEnemyCard(slot, e); totalByCat[e.cat]+=e.count }
        })
      }
    })
    ORDER.forEach(c=>{ const el = document.getElementById('c-'+c); if(el) el.textContent = totalByCat[c] })

    // –¢–µ–∫—Å—Ç–æ–≤–∏–π –≤–∏–≤—ñ–¥
    const out = document.getElementById('textOut')
    if(out) out.textContent = buildTextExport(factionKey, pickedCase, allocations)
  }

  function labelCat(cat){
    return {statist:'—Å—Ç–∞—Ç–∏—Å—Ç–∏',regular:'—Ä—è–¥–æ–≤—ñ',elite:'–µ–ª—ñ—Ç–Ω—ñ',boss:'–±–æ—Å–∏'}[cat]||cat
  }

  function buildTextExport(factionKey, pickedCase, allocations){
    const fName = DB[factionKey].name
    const diffSel = document.querySelector('#difficulty option:checked')
    const diffText = diffSel? diffSel.textContent : ''
    let s = `–ë–ò–¢–í–ê: ${fName}\n–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: ${diffText}\n–ö–µ–π—Å: `
    s += Object.entries(pickedCase).map(([k,v])=>`${labelCat(k)}: ${typeof v==='number'? v : v}`).join(' / ')
    s += `\n\n`
    allocations.forEach(({targetCat,entries})=>{
      s += `${labelCat(targetCat).toUpperCase()}\n`
      if(!entries.length){ s += `‚Äî\n` }
      entries.forEach(({enemy,count})=>{
        s += `‚Ä¢ ${enemy.name} √ó ${count}\n  –û–ó: ${enemy.hp}; –ë—Ä–æ–Ω—è: ${enemy.armor}; –®–∫–æ–¥–∞: ${enemy.dmg}\n`
        if(enemy.aspects?.length){ s += `  –ê—Å–ø–µ–∫—Ç–∏: ${enemy.aspects.join(', ')}\n` }
        if(enemy.moves?.length){ s += enemy.moves.map(m=>`  –•—ñ–¥ ¬´${m.n}¬ª: ${m.t}`).join('\n') + '\n' }
        if(enemy.notes){ s += `  –ü—Ä–∏–º—ñ—Ç–∫–∞: ${enemy.notes}\n` }
      })
      s += `\n`
    })
    // –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞
    const rwBox = document.getElementById('rewardBox')
    const rw = rwBox?.dataset?.last||''
    if(rw){ s += `–í–ò–ù–ê–ì–û–†–û–î–ê: ${rw}\n` }
    return s.trim()
  }

  function generate(){
    const diff = document.getElementById('difficulty').value
    const kind = document.getElementById('kind').value
    const pickedCase = JSON.parse(JSON.stringify(pick(Cases[diff])))
    // –û–±—á–∏—Å–ª–∏—Ç–∏ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ (–∫–∏–Ω—É—Ç–∏ –∫—É–±–∏ –¥–µ —Ç—Ä–µ–±–∞)
    const needs = []
    for(const [k,v] of Object.entries(pickedCase)){
      let n = v
      if(typeof v === 'string'){ n = rollDiceExpr(v).total }
      needs.push({cat:k,count:n})
    }
    // –í–∏–¥—ñ–ª–∏—Ç–∏ —é–Ω—ñ—Ç–∏
    const allocations = ORDER.map(cat=>{
      const need = needs.find(n=>n.cat===cat)
      const count = need? need.count : 0
      const entries = count? allocateUnits(kind, cat, count) : []
      return {targetCat:cat, entries}
    })
    renderBattle(kind, pickedCase, allocations)
    // –í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
    rollReward()
  }

  // –ö–ª—ñ–∫ –ø–æ –∫—É–±–∏–∫–∞—Ö ‚Äî –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è + –∑–∞—Ö–∏—Å—Ç–∏ –≤—ñ–¥ null
  function handleDieClick(e){
    const el = e.target.closest && e.target.closest('button.die')
    if(!el) return
    const expr = el.dataset.dice
    const {total, detail} = rollDiceExpr(expr)
    el.title = detail
    el.setAttribute('data-tip', detail)
    try{ el.style.outline='1px solid var(--accent)'; setTimeout(()=>{ if(el && el.style) el.style.outline='none' }, 350) }catch(_){}
    // –Ω–µ–≤–µ–ª–∏–∫–∏–π toast
    const t = document.createElement('div')
    t.textContent = `${expr} ‚Üí ${total}`
    Object.assign(t.style,{position:'fixed',right:'16px',bottom:'16px',background:'#14120d',border:'1px solid #3a342b',padding:'8px 10px',borderRadius:'10px',zIndex:9999,opacity:0})
    document.body.appendChild(t)
    requestAnimationFrame(()=>{ if(t && t.style){ t.style.transition='all .25s'; t.style.opacity=1 } })
    setTimeout(()=>{ if(t && t.style){ t.style.opacity=0; setTimeout(()=>{ if(t && t.remove) t.remove() }, 250) } }, 900)
  }

  function rollReward(){
    const diff = document.getElementById('difficulty').value
    const box = document.getElementById('rewardBox')
    if(!box) return
    if(diff==='deadly'){
      const a = pick(Rewards.hard), b = pick(Rewards.hard)
      box.dataset.last = `1) ${a}  \n2) ${b}`
      box.innerHTML = `<div class="title">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ (—Å–º–µ—Ä—Ç–µ–ª—å–Ω–∞ ‚Üí –¥–≤—ñ –≤–∞–∂–∫—ñ)</div><div class="small">1) ${parseAndWrapDice(a)}<br>2) ${parseAndWrapDice(b)}</div><div class="flex" style="margin-top:6px"><button class="ghost" id="rollRewardBtn">–ö–∏–Ω—É—Ç–∏ —â–µ</button></div>`
    } else {
      const src = Rewards[diff]
      const item = pick(src)
      box.dataset.last = item
      box.innerHTML = `<div class="title">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞</div><div class="small">${parseAndWrapDice(item)}</div><div class="flex" style="margin-top:6px"><button class="ghost" id="rollRewardBtn">–ö–∏–Ω—É—Ç–∏ —â–µ</button></div>`
    }
  }

  // –ö–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç
  async function copyAll(){
    const t = document.getElementById('textOut')?.textContent || ''
    try{ await navigator.clipboard.writeText(t) }catch(_){/* –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ */}
    const toast=document.createElement('div');toast.textContent='–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ';Object.assign(toast.style,{position:'fixed',left:'50%',transform:'translateX(-50%)',bottom:'16px',background:'#14120d',border:'1px solid #3a342b',padding:'8px 10px',borderRadius:'10px',zIndex:9999,opacity:0});document.body.appendChild(toast);requestAnimationFrame(()=>{toast.style.transition='all .25s';toast.style.opacity=1});setTimeout(()=>{toast.style.opacity=0;setTimeout(()=>toast.remove(),250)}, 900)
  }

  // –ü–æ–¥—ñ—ó UI
  document.addEventListener('click', (e)=>{
    const id = e.target?.id
    if(id==='gen') generate()
    if(id==='rollRewardBtn') rollReward()
    if(id==='copyAll') copyAll()
  })
  // –ö–∏–¥–∫–∏ –∫—É–±—ñ–≤ ‚Äî –æ–∫—Ä–µ–º–∏–π –¥–µ–ª–µ–≥–æ–≤–∞–Ω–∏–π —Å–ª—É—Ö–∞—á
  document.addEventListener('click', handleDieClick)

  // –ü–µ—Ä—à–∏–π –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è DOMContentLoaded
  generate()

  // -------------------- –ê–í–¢–û–¢–ï–°–¢–ò --------------------
  function log(line, ok=true){
    const out = document.getElementById('testOut')
    const span = document.createElement('div')
    span.className = ok? 'test-pass' : 'test-fail'
    span.textContent = (ok?'‚úî ':'‚úñ ') + line
    out && out.appendChild(span)
  }
  function clearTests(){ const out=document.getElementById('testOut'); if(out) out.textContent='' }

  function runTests(){
    clearTests()
    try{
      // –¢1: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–ª—è –≤—Å—ñ—Ö —Å–∫–ª–∞–¥–Ω–æ—Å—Ç–µ–π —ñ –¥–≤–æ—Ö —Ñ—Ä–∞–∫—Ü—ñ–π
      const diffs=['easy','medium','hard','deadly']
      const kinds=['robots','ghouls'] // ghouls –±–µ–∑ –±–æ—Å—ñ–≤ ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å
      for(const d of diffs){
        document.getElementById('difficulty').value=d
        for(const k of kinds){
          document.getElementById('kind').value=k
          generate()
          const text = document.getElementById('textOut').textContent
          log(`–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è d=${d}, kind=${k}: —Ç–µ–∫—Å—Ç –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π`, !!text && text.trim().length>0)
        }
      }
      // –¢2: –ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π ‚Äî –¥–ª—è –≥—É–ª—ñ–≤ –Ω–∞ –≤–∞–∂–∫—ñ–π –º–∞—î –Ω–µ –≤–ø–∞—Å—Ç–∏ –π –¥–∞—Ç–∏ –µ–ª—ñ—Ç–Ω–∏—Ö –∑–∞–º—ñ—Å—Ç—å –±–æ—Å—ñ–≤
      document.getElementById('difficulty').value='hard'
      document.getElementById('kind').value='ghouls'
      generate()
      const eliteCount=parseInt(document.getElementById('c-elite').textContent,10)
      log('–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Å—ñ–≤ ‚Üí –µ–ª—ñ—Ç–Ω—ñ –¥–ª—è –≥—É–ª—ñ–≤ (hard): –µ–ª—ñ—Ç–Ω–∏—Ö > 0', eliteCount>0)

      // –¢3: Deadly ‚Üí –ø–æ–¥–≤—ñ–π–Ω–∞ –≤–∞–∂–∫–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞
      document.getElementById('difficulty').value='deadly'
      document.getElementById('kind').value='robots'
      generate()
      const rw = document.getElementById('rewardBox').dataset.last||''
      log('–°–º–µ—Ä—Ç–µ–ª—å–Ω–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞ —Ñ–æ—Ä–º–∞—Ç—É ¬´1) .. 2) ..¬ª', /1\) .+\n2\) .+/.test(rw))

      // –¢4: –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —è–∫ —Ç–µ–∫—Å—Ç¬ª ‚Äî –≤–∏–∫–ª–∏–∫ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
      copyAll(); log('–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –Ω–µ –∫–∏–¥–∞—î –ø–æ–º–∏–ª–æ–∫', true)

      // –¢5: –ö–ª—ñ–∫ –ø–æ –∫—É–±–∏–∫—É –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∏ style
      const dieBtn = document.querySelector('button.die')
      if(dieBtn){ dieBtn.click(); log('–ö–ª—ñ–∫ –ø–æ –∫—É–±–∏–∫—É –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–≤', true) } else { log('–ù–∞ –µ–∫—Ä–∞–Ω—ñ —î —Ö–æ—á–∞ –± –æ–¥–∏–Ω –∫—É–±–∏–∫', false) }

    }catch(err){
      log('–ì–ª–æ–±–∞–ª—å–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —Ç–µ—Å—Ç—ñ–≤: '+(err?.message||err), false)
      console.error(err)
    }
  }

  document.getElementById('runTests').addEventListener('click', runTests)
})
</script>
</body>
</html>

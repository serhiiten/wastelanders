<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü—É—Å—Ç–µ–ª—å–Ω–∏–∫—ñ–≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f4e4a0 0%, #e8d075 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2d5016 0%, #4a7c59 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .controls {
            padding: 30px;
            background: #f8f7f3;
            border-bottom: 2px solid #2d5016;
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn-generate {
            background: linear-gradient(135deg, #2d5016 0%, #4a7c59 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(45, 80, 22, 0.4);
        }
        
        .btn-generate:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(45, 80, 22, 0.6);
        }
        
        .btn-psioniker {
            background: linear-gradient(135deg, #4a7c59 0%, #6ba16e 100%);
        }
        
        .character-sheet {
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .section {
            background: #f8f7f3;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #2d5016;
        }
        
        .section h2 {
            color: #2d5016;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a7c59;
        }
        
        .attribute-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .attribute-box {
            text-align: center;
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #2d5016;
        }
        
        .attribute-label {
            font-size: 0.9em;
            color: #2d5016;
            margin-bottom: 5px;
        }
        
        .attribute-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #4a7c59;
        }
        
        .field {
            margin-bottom: 12px;
            position: relative;
        }
        
        .field-label {
            font-weight: bold;
            color: #2d5016;
            font-size: 0.9em;
            margin-bottom: 3px;
        }
        
        .field-value {
            color: #212529;
            font-size: 1.1em;
            padding: 8px;
            background: white;
            border-radius: 5px;
            border: 1px solid #2d5016;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .reroll-btn {
            background: #4a7c59;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 10px;
        }
        
        .reroll-btn:hover {
            background: #2d5016;
        }
        
        .skill-item, .perk-item {
            background: white;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #4a7c59;
        }
        
        .equipment-list {
            list-style: none;
        }
        
        .equipment-list li {
            background: white;
            padding: 8px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #2d5016;
        }
        
        .export-btn {
            background: #4a7c59;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s;
        }
        
        .export-btn:hover {
            background: #2d5016;
            transform: translateY(-1px);
        }
        
        @media print {
            body {
                background: white;
            }
            .controls {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üóø –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü—É—Å—Ç–µ–ª—å–Ω–∏–∫—ñ–≤</h1>
            <p>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ–≤ –¥–ª—è –Ω–∞—Å—Ç—ñ–ª—å–Ω–æ—ó —Ä–æ–ª—å–æ–≤–æ—ó –≥—Ä–∏ "–ü—É—Å—Ç–µ–ª—å–Ω–∏–∫–∏"</p>
        </div>
        
        <div class="controls">
            <button class="btn-generate" onclick="generateCharacter()">
                üéØ –ó–ì–ï–ù–ï–†–£–í–ê–¢–ò –ù–û–í–û–ì–û –ü–ï–†–°–û–ù–ê–ñ–ê
            </button>
            <button class="btn-generate btn-psioniker" onclick="generatePsionik()">
                üß† –ó–ì–ï–ù–ï–†–£–í–ê–¢–ò –ü–°–ò–û–ù–Ü–ö–ê
            </button>
        </div>
        
        <div id="characterSheet" class="character-sheet" style="display: none;">
            <!-- Character data will be inserted here -->
        </div>
    </div>

    <script>
        let currentCharacter = null;

        // Game data tables
        const archetypes = [
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ", "–°—Ç—Ä—ñ–ª–µ—Ü—å", "–¢–æ—Ä–≥–∞—à", "–°–ø–æ–∫—É—Å–Ω–∏–∫", 
            "–ó–ª–æ–¥—é–≥–∞", "–¢–µ—Ö–Ω—ñ–∫", "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π", "–†–µ–π–Ω–¥–∂–µ—Ä"
        ];

        const speciesDistribution = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 2]},
                {species: "–ì—É–ª—å", range: [3, 3]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [4, 6]},
                {species: "–†–æ–±–æ—Ç", range: [7, 8]},
                {species: "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ", range: [9, 10]}
            ],
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 3]},
                {species: "–ì—É–ª—å", range: [4, 6]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [7, 8]},
                {species: "–†–æ–±–æ—Ç", range: [9, 10]}
            ],
            "–¢–æ—Ä–≥–∞—à": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 5]},
                {species: "–ì—É–ª—å", range: [6, 7]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [8, 8]},
                {species: "–†–æ–±–æ—Ç", range: [9, 9]},
                {species: "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ", range: [10, 10]}
            ],
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 5]},
                {species: "–ì—É–ª—å", range: [6, 7]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [8, 8]},
                {species: "–†–æ–±–æ—Ç", range: [9, 10]}
            ],
            "–ó–ª–æ–¥—é–≥–∞": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 2]},
                {species: "–ì—É–ª—å", range: [3, 4]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [5, 6]},
                {species: "–†–æ–±–æ—Ç", range: [7, 8]},
                {species: "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ", range: [9, 10]}
            ],
            "–¢–µ—Ö–Ω—ñ–∫": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 3]},
                {species: "–ì—É–ª—å", range: [4, 6]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [7, 7]},
                {species: "–†–æ–±–æ—Ç", range: [8, 10]}
            ],
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 3]},
                {species: "–ì—É–ª—å", range: [4, 6]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [7, 7]},
                {species: "–†–æ–±–æ—Ç", range: [8, 9]},
                {species: "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ", range: [10, 10]}
            ],
            "–†–µ–π–Ω–¥–∂–µ—Ä": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 2]},
                {species: "–ì—É–ª—å", range: [3, 5]},
                {species: "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç", range: [6, 7]},
                {species: "–†–æ–±–æ—Ç", range: [8, 8]},
                {species: "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ", range: [9, 10]}
            ],
            "–ü—Å–∏–æ–Ω—ñ–∫": [
                {species: "–õ—é–¥–∏–Ω–∞", range: [1, 10]}
            ]
        };

        const attributeModifiers = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": {–°–õ: 2, –°–ü–†: 0, –í–¢–†: 2, –ü–í: -1, –Ü–ù: -1, –í–ü: 1, –£–î–ß: 0},
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": {–°–õ: 0, –°–ü–†: 2, –í–¢–†: 1, –ü–í: -1, –Ü–ù: -1, –í–ü: 2, –£–î–ß: 0},
            "–¢–æ—Ä–≥–∞—à": {–°–õ: -1, –°–ü–†: 1, –í–¢–†: -1, –ü–í: 2, –Ü–ù: 1, –í–ü: 0, –£–î–ß: 1},
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": {–°–õ: -1, –°–ü–†: 1, –í–¢–†: -1, –ü–í: 2, –Ü–ù: 0, –í–ü: 1, –£–î–ß: 1},
            "–ó–ª–æ–¥—é–≥–∞": {–°–õ: -1, –°–ü–†: 2, –í–¢–†: -1, –ü–í: 1, –Ü–ù: 0, –í–ü: 2, –£–î–ß: 0},
            "–¢–µ—Ö–Ω—ñ–∫": {–°–õ: 0, –°–ü–†: 1, –í–¢–†: 0, –ü–í: -1, –Ü–ù: 2, –í–ü: 1, –£–î–ß: 0},
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": {–°–õ: -1, –°–ü–†: 1, –í–¢–†: 1, –ü–í: 0, –Ü–ù: 2, –í–ü: -1, –£–î–ß: 1},
            "–†–µ–π–Ω–¥–∂–µ—Ä": {–°–õ: 1, –°–ü–†: 2, –í–¢–†: 2, –ü–í: -1, –Ü–ù: -1, –í–ü: 0, –£–î–ß: 0},
            "–ü—Å–∏–æ–Ω—ñ–∫": {–°–õ: -1, –°–ü–†: 1, –í–¢–†: 1, –ü–í: 1, –Ü–ù: 2, –í–ü: 0, –£–î–ß: -1}
        };

        const skills = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": ["–ì–µ—Ä—Ü—å", "–ê—Ç–ª–µ—Ç–∏–∫–∞", "–í–∏–∂–∏–≤–∞–Ω–Ω—è"],
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": ["–°—Ç—Ä—ñ–ª—å–±–∞", "–ö—Ä–∞–¥—ñ–∂", "–í–∏–∂–∏–≤–∞–Ω–Ω—è"],
            "–¢–æ—Ä–≥–∞—à": ["–ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è", "–ü—Ä–∏–º—É—Å", "–ó–Ω–∞–Ω–Ω—è"],
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": ["–ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è", "–ü—Ä–∏–º—É—Å", "–ö—Ä–∞–¥—ñ–∂"],
            "–ó–ª–æ–¥—é–≥–∞": ["–ö—Ä–∞–¥—ñ–∂", "–°—Ç—Ä—ñ–ª—å–±–∞", "–¢–µ—Ö–Ω—ñ–∫–∞"],
            "–¢–µ—Ö–Ω—ñ–∫": ["–¢–µ—Ö–Ω—ñ–∫–∞", "–ó–Ω–∞–Ω–Ω—è", "–°—Ç—Ä—ñ–ª—å–±–∞"],
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": ["–ó–Ω–∞–Ω–Ω—è", "–ú–µ–¥–∏—Ü–∏–Ω–∞", "–¢–µ—Ö–Ω—ñ–∫–∞"],
            "–†–µ–π–Ω–¥–∂–µ—Ä": ["–í–∏–∂–∏–≤–∞–Ω–Ω—è", "–°—Ç—Ä—ñ–ª—å–±–∞", "–ê—Ç–ª–µ—Ç–∏–∫–∞"],
            "–ü—Å–∏–æ–Ω—ñ–∫": ["–ú–µ–¥–∏—Ü–∏–Ω–∞", "–ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è", "–ü—Ä–∏–º—É—Å"]
        };

        const perks = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": [
                ["–ë–æ–Ω—É—Å–Ω–∞ —à–∫–æ–¥–∞ —É –±–ª–∏–∂–Ω—å–æ–º—É –±–æ—é", "–¢–æ—á–Ω–∏–π —É–¥–∞—Ä", "–ë—Ä–æ–Ω–µ–±—ñ–π–Ω–∏–π —É–¥–∞—Ä"],
                ["–ó–∞–ª—ñ–∑–Ω—ñ –∫—É–ª–∞–∫–∏", "–ó–¥–æ—Ä–æ–≤–∞–Ω—å", "–ù–µ–≤–∫–æ–ª—É–ø–Ω–∏–π"],
                ["–î—Ä—É–≥–µ –¥–∏—Ö–∞–Ω–Ω—è", "–ú—ñ—Ü–Ω–∏–π", "–ë–æ–π–æ–≤—ñ —Ä–µ—Ñ–ª–µ–∫—Å–∏"]
            ],
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": [
                ["–ë–æ–Ω—É—Å–Ω–∞ —à–∫–æ–¥–∞ —É –±–æ—é –Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—ñ", "–ü—Ä–∏—Ü—ñ–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª", "–ó –¥–≤–æ—Ö —Ä—É–∫"],
                ["–£–ª—é–±–ª–µ–Ω–∞ –∑–±—Ä–æ—è", "–ë–µ–∑—à—É–º–Ω–∏–π –±—ñ–≥", "–Ø-—à–≤–∏–¥–∫—ñ—Å—Ç—å"],
                ["–ó–±—Ä–æ–π–Ω–∏–π –º–∞–Ω—ñ—è–∫", "–ú–∞–π—Å—Ç–µ—Ä –≤–∞–∂–∫–∏—Ö —Ä–µ—á–µ–π", "–í–µ—Ä—Ç–∫—ñ—Å—Ç—å"]
            ],
            "–¢–æ—Ä–≥–∞—à": [
                ["–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è: –ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è (—Ç–æ—Ä–≥—ñ–≤–ª—è)", "–ú–∞–π—Å—Ç–µ—Ä-—Ç–æ—Ä–≥–æ–≤–µ—Ü—å", "–ï–º–ø–∞—Ç—ñ—è"],
                ["–ó–Ω–∞—á—É—â–∏–π –≤–∏–≥–ª—è–¥", "–ü—ñ–¥–ª–∞–±—É–∑–Ω–∏–∫", "–©–∞—Å–ª–∏–≤–µ—Ü—å"],
                ["–©–∞—Å–ª–∏–≤–∞ –≤–∏–ø–∞–¥–∫–æ–≤—ñ—Å—Ç—å", "–ï—Ä—É–¥–∏—Ç (–ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è)", "–°–ø–æ—Å—Ç–µ—Ä–µ–∂–ª–∏–≤—ñ—Å—Ç—å"]
            ],
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": [
                ["–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è: –ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—è (–∑–≤–∞–±–ª–µ–Ω–Ω—è)", "–ü—ñ–¥–ª–∞–±—É–∑–Ω–∏–∫", "–°–µ–∫—Å–ø–µ—Ä—Ç"],
                ["–ó–Ω–∞—á—É—â–∏–π –≤–∏–≥–ª—è–¥", "–ï–º–ø–∞—Ç—ñ—è", "–©–∞—Å–ª–∏–≤–µ—Ü—å"],
                ["–ë–æ—Ä–∏—Å-–ö—É–ª—é-–º–∏–Ω–∞—î", "–í–µ—Ä—Ç–∫—ñ—Å—Ç—å", "–ê–∑–∞—Ä—Ç–Ω–∏–π –≥—Ä–∞–≤–µ—Ü—å"]
            ],
            "–ó–ª–æ–¥—é–≥–∞": [
                ["–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è: –ö—Ä–∞–¥—ñ–∂ (–∑–ª–∞–º –∑–∞–º–∫—ñ–≤)", "–ë–µ–∑—à—É–º–Ω–∏–π –±—ñ–≥", "–ü—Ä–∏–≤–∏–¥"],
                ["–•—Ç–æ? –Ø?", "–ö–æ–Ω—Ç—Ä–∞–±–∞–Ω–¥–∏—Å—Ç", "–°–ª–∏–∑—å–∫–∏–π —Ç–∏–ø"],
                ["–õ–µ–≥–∫–∞ —Ö–æ–¥–∞", "–ë—ñ—Å–æ–≤–∞ —à—Ç—É–∫–æ–≤–∏–Ω–∞!", "–ë–æ—Ä–∏—Å-–ö—É–ª—é-–º–∏–Ω–∞—î"]
            ],
            "–¢–µ—Ö–Ω—ñ–∫": [
                ["–ó–±—Ä–æ—è—Ä", "–ë—Ä–æ–Ω—è—Ä", "–ó–∞–ª—ñ–∑—è—á–Ω–∏–∫"],
                ["–ú–∞—Å—Ç–∞–∫-—Ä–µ–º–æ–Ω—Ç–Ω–∏–∫", "–ï—Ä—É–¥–∏—Ç (–¢–µ—Ö–Ω—ñ–∫–∞)", "–ü—Ä–∏—Ü—ñ–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª"],
                ["–õ—é—Ç—å –±–æ—Ç–∞–Ω–∞", "–ß—É–¥–µ—Ä–Ω–∞—Ü—å–∫–∞ –Ω–∞—É–∫–∞", "–°–ø–æ—Å—Ç–µ—Ä–µ–∂–ª–∏–≤—ñ—Å—Ç—å"]
            ],
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": [
                ["–•—ñ–º—ñ–∫", "–ó–∞–ª—ñ–∑—è—á–Ω–∏–∫", "–ú–µ–¥–∏–∫"],
                ["–ï—Ä—É–¥–∏—Ç (–ó–Ω–∞–Ω–Ω—è)", "–ß—É–¥–µ—Ä–Ω–∞—Ü—å–∫–∞ –Ω–∞—É–∫–∞", "–°—Ç–∞—Ä–∞–Ω–Ω–∏–π —É—á–µ–Ω—å"],
                ["–õ—é—Ç—å –±–æ—Ç–∞–Ω–∞", "–ï–ª–µ–∫—Ç—Ä–æ—Ö—ñ–º—ñ—á–Ω–∏–π –∂–æ–∫–µ–π", "–ë—ñ—Å–æ–≤–∞ —à—Ç—É–∫–æ–≤–∏–Ω–∞!"]
            ],
            "–†–µ–π–Ω–¥–∂–µ—Ä": [
                ["–°–ª—ñ–¥–æ–ø–∏—Ç", "–ü–µ—Ä—à–æ–ø—Ä–æ—Ö–æ–¥–µ—Ü—å", "–û–±–µ—Ä–µ–∂–Ω—ñ—Å—Ç—å"],
                ["–ü—Ä–∏—Ü—ñ–ª—å–Ω–∏–π –ø–æ—Å—Ç—Ä—ñ–ª", "–ù–∞–π–∫—Ä–∞—â–∏–π –¥—Ä—É–≥", "–°–ø–æ—Å—Ç–µ—Ä–µ–∂–ª–∏–≤—ñ—Å—Ç—å"],
                ["–†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è", "–ö—É—à–Ω—ñ—Ä", "–ó–¥–æ–±—É–≤–∞—á"]
            ],
            "–ü—Å–∏–æ–Ω—ñ–∫": [
                ["–ü—Å—ñ-—É–¥–∞—Ä", "–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Ä–æ–∑—É–º—É", "–ù–∞–≤—ñ—é–≤–∞–Ω–Ω—è"],
                ["–¶—ñ–ª—é—â–∏–π –¥–æ—Ç–∏–∫", "–¢–µ–ª–µ–∫—ñ–Ω–µ–∑", "–ü–µ—Ä–µ–¥–±–∞—á–µ–Ω–Ω—è"],
                ["–û–±—Ä–∞–Ω–∏–π", "–ù–µ–≤–∏–¥–∏–º—ñ—Å—Ç—å", "–ü–æ—Å–ª–∞–Ω–Ω—è"]
            ]
        };

        const healthAndFate = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": {health: 21, fate: 2},
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": {health: 18, fate: 2},
            "–¢–æ—Ä–≥–∞—à": {health: 12, fate: 3},
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": {health: 12, fate: 3},
            "–ó–ª–æ–¥—é–≥–∞": {health: 12, fate: 2},
            "–¢–µ—Ö–Ω—ñ–∫": {health: 15, fate: 2},
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": {health: 18, fate: 3},
            "–†–µ–π–Ω–¥–∂–µ—Ä": {health: 21, fate: 2},
            "–ü—Å–∏–æ–Ω—ñ–∫": {health: 18, fate: 1}
        };

        const names = {
            "–õ—é–¥–∏–Ω–∞": {
                male: ["–î–∂–æ–Ω–Ω—ñ –ú–µ–∫—Å–∏–∫–∞–Ω–µ—Ü—å", "–ì–µ–Ω—Ä—ñ –ú'—è—Å–Ω–∏–∫", "–í—ñ–Ω—Å –†–∞–∑-–î–≤–∞", "–ö–æ–º–∞–Ω–¥–æ—Ä “ê—Ä—ñ–Ω", "–õ—ñ—Ä–æ–π –ë–æ—Ç–∞–Ω", 
                       "–í—ñ–∫ –ë–∞—Ä–∏–≥–∞", "–ì–∞—Ä–æ–ª—å–¥ –°—Ç–∞—Ä–∏–π –•—Ä—ñ–Ω", "–ë–∞–≥–∑ –î–æ–º—ñ–Ω–æ", "–ß–∞—Ä–ª—ñ –ó–∞–≥–∞–¥–∫–∞", "–¢–æ–≤—Å—Ç–∏–π –ù–µ–ª—å—Å–æ–Ω",
                       "–ú—ñ–∫–∫—ñ –†–∞–∫–µ—Ç–∞", "–ö—Ä—ñ—Å –ë–∞—Ç—è", "–î–∂–æ—à –õ—ñ—Å–æ—Ä—É–±", "–í–µ—à –¢–∞–π—Ñ—É–Ω", "–õ—É—ó –¢—Ä—É–±–∞—á",
                       "–ê–ª–µ–∫—Å –¶–≤–∏–Ω—Ç–∞—Ä", "–ù–µ–ø–µ—Ä–µ–º–æ–∂–Ω–∏–π –í–∞–ª–µ—Ä—ñ–∞–Ω", "–ó–∞–±–∏–π-–ü—ñ—Ç", "–ö–ª—ñ–Ω—Ç –ë–ª–æ–Ω–¥–∏–Ω—á–∏–∫", "–í—ñ–Ω–Ω—ñ –í–µ–ª–∏–∫–∏–π –°—Ç–≤–æ–ª",
                       "–î–∂–µ–∫ –ö–∞—Ä—Ç—è—Ä", "–¢–æ–º–º—ñ –ì–∞—Ä–ø—É–Ω", "–ú–∞–∫—Å –í–∏—Ö–æ—Ä", "–ë–µ–Ω –ì—Ä–∞–Ω–∞—Ç–∞", "–ï–¥ –°–æ–Ω—Ü–µ"],
                female: ["–í–ª—É—á–Ω–∞ –°–∞–ª–ª—ñ", "–°–æ–ª–æ–¥–∫–æ–≥–æ–ª–æ—Å–∞ –ï–ª–ª–∞", "–°—Ç–∞—Ä–∞ –î–∂–∏–ª–ª", "–î–∂–∏–Ω –¢—Ä–∏ –ü–∞–ª—å—Ü—ñ", "–í—ñ–∫–∫—ñ –ö—É–ª–µ–º–µ—Ç",
                        "–ö–∞–π–ª—ñ –ë—Ä–µ—Ö–ª–æ", "–°—ñ–Ω–¥—ñ –ß–µ—Ä–µ–ø", "–ë–æ–∂–µ–≤—ñ–ª—å–Ω–∞ –ï–Ω–Ω—ñ", "–¢–∞–±—ñ—Ç–∞ –°–∞–¥—ñ–≤–Ω–∏—Ü—è", "–ì–µ—Ä—ñ–µ—Ç –ü–æ—Ç–æ–ø–µ–ª—å–Ω–∏—Ü—è",
                        "–í–æ—Ä–æ–∂–∫–∞ –ì—Ä–µ–π—Å", "–°–∞–Ω–Ω—ñ –¢–æ—Ä—á–æ–∫", "–§—ñ—Ñ—ñ –ú–æ–¥–Ω–∏—Ü—è", "–ë—ñ–¥–æ–≤–∞ –†–∞–º–æ–Ω–∞", "–ö–µ—Ç—ñ –õ–µ–∑–æ",
                        "–ü–µ—Ç—Å—ñ –ù–æ–∫–∞—É—Ç", "–ö–µ—Å—Å –ì–≤–∏–Ω—Ç—ñ–≤–∫–∞", "–ú–µ—Ä—ñ–ª –ü–∞—Ä–∞–±–µ–ª—É–º", "–í–∏—à—É–∫–∞–Ω–∞ –ï—Å—Ç–µ—Ä", "–ö–æ—Ä–Ω–µ–ª—ñ—è –°—É–ø–µ—Ä–∫—É–≤–∞–ª–¥–∞",
                        "–ë–µ–ª–ª–∞ –°—Ç—Ä—ñ–ª–æ–∫", "–¢—ñ–Ω–∞ –ì—Ä–∞–Ω–∞—Ç–∞", "–†–æ–∑–∞ –í—ñ—Ç–µ—Ä", "–ê–Ω–Ω–∞ –ú–æ–ª–æ—Ç", "–ö–µ—Ç—Ä—ñ–Ω –ë–ª–∏—Å–∫"]
            },
            "–ì—É–ª—å": {
                male: ["–î–∂–æ–Ω–Ω—ñ –ú–µ–∫—Å–∏–∫–∞–Ω–µ—Ü—å", "–ì–µ–Ω—Ä—ñ –ú'—è—Å–Ω–∏–∫", "–í—ñ–Ω—Å –†–∞–∑-–î–≤–∞", "–ö–æ–º–∞–Ω–¥–æ—Ä “ê—Ä—ñ–Ω", "–õ—ñ—Ä–æ–π –ë–æ—Ç–∞–Ω", 
                       "–í—ñ–∫ –ë–∞—Ä–∏–≥–∞", "–ì–∞—Ä–æ–ª—å–¥ –°—Ç–∞—Ä–∏–π –•—Ä—ñ–Ω", "–ë–∞–≥–∑ –î–æ–º—ñ–Ω–æ", "–ß–∞—Ä–ª—ñ –ó–∞–≥–∞–¥–∫–∞", "–¢–æ–≤—Å—Ç–∏–π –ù–µ–ª—å—Å–æ–Ω",
                       "–ú—ñ–∫–∫—ñ –†–∞–∫–µ—Ç–∞", "–ö—Ä—ñ—Å –ë–∞—Ç—è", "–î–∂–æ—à –õ—ñ—Å–æ—Ä—É–±", "–í–µ—à –¢–∞–π—Ñ—É–Ω", "–õ—É—ó –¢—Ä—É–±–∞—á",
                       "–ê–ª–µ–∫—Å –¶–≤–∏–Ω—Ç–∞—Ä", "–ù–µ–ø–µ—Ä–µ–º–æ–∂–Ω–∏–π –í–∞–ª–µ—Ä—ñ–∞–Ω", "–ó–∞–±–∏–π-–ü—ñ—Ç", "–ö–ª—ñ–Ω—Ç –ë–ª–æ–Ω–¥–∏–Ω—á–∏–∫", "–í—ñ–Ω–Ω—ñ –í–µ–ª–∏–∫–∏–π –°—Ç–≤–æ–ª",
                       "–†–µ–π –ú–µ—Ä—Ç–≤—è–∫", "–ó–æ–º–±—ñ –î–∂–æ", "–ì–Ω–∏–ª–∏–π –ü–æ–ª", "–°—è—é—á–∏–π –ú–∞–π–∫", "–†–∞–¥—ñ–æ-–ë–æ–±"],
                female: ["–í–ª—É—á–Ω–∞ –°–∞–ª–ª—ñ", "–°–æ–ª–æ–¥–∫–æ–≥–æ–ª–æ—Å–∞ –ï–ª–ª–∞", "–°—Ç–∞—Ä–∞ –î–∂–∏–ª–ª", "–î–∂–∏–Ω –¢—Ä–∏ –ü–∞–ª—å—Ü—ñ", "–í—ñ–∫–∫—ñ –ö—É–ª–µ–º–µ—Ç",
                        "–ö–∞–π–ª—ñ –ë—Ä–µ—Ö–ª–æ", "–°—ñ–Ω–¥—ñ –ß–µ—Ä–µ–ø", "–ë–æ–∂–µ–≤—ñ–ª—å–Ω–∞ –ï–Ω–Ω—ñ", "–¢–∞–±—ñ—Ç–∞ –°–∞–¥—ñ–≤–Ω–∏—Ü—è", "–ì–µ—Ä—ñ–µ—Ç –ü–æ—Ç–æ–ø–µ–ª—å–Ω–∏—Ü—è",
                        "–í–æ—Ä–æ–∂–∫–∞ –ì—Ä–µ–π—Å", "–°–∞–Ω–Ω—ñ –¢–æ—Ä—á–æ–∫", "–§—ñ—Ñ—ñ –ú–æ–¥–Ω–∏—Ü—è", "–ë—ñ–¥–æ–≤–∞ –†–∞–º–æ–Ω–∞", "–ö–µ—Ç—ñ –õ–µ–∑–æ",
                        "–ü–µ—Ç—Å—ñ –ù–æ–∫–∞—É—Ç", "–ö–µ—Å—Å –ì–≤–∏–Ω—Ç—ñ–≤–∫–∞", "–ú–µ—Ä—ñ–ª –ü–∞—Ä–∞–±–µ–ª—É–º", "–í–∏—à—É–∫–∞–Ω–∞ –ï—Å—Ç–µ—Ä", "–ö–æ—Ä–Ω–µ–ª—ñ—è –°—É–ø–µ—Ä–∫—É–≤–∞–ª–¥–∞",
                        "–õ—ñ–∑—ñ –ö—ñ—Å—Ç–∫–∞", "–ú–µ—Ä—ñ –¢–ª—ñ–Ω", "–°–∞—Ä–∞ –†–∞–¥", "–î–∂–µ–Ω –í–∏—Ä–∞–∑–∫–∞", "–õ–æ—Ä–∞ –°–≤—ñ—Ç–∏–ª—å–Ω–∏–∫"]
            },
            "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç": {
                all: ["–ì—Ä—è–∑—é–∫–∞", "–ë—ñ–ª–ª—ñ-–ë–æ–±", "–õ–∏—Å–∏–π –î—ñ–¥—å–∫–æ", "–õ—É-–¢–µ–Ω–∞–Ω—Ç", "–ö–Ω—É—Ä", "–î–∞–∫–∫–∞", "–ì–æ—Ä–±–∞—Ç–∏–π", "–ü—Å—é—Ä–∞", "–î–∂–µ–±–µ–¥–∞—è –ï–Ω—Ç–æ–Ω—ñ –ì–µ—Ä—Å—Ç –¢—Ä–µ—Ç—ñ–π (–î–∂–µ–±)", "–ì—Ä–æ–º–æ–≤–∏–π –ö—É–ª–∞–∫",
                      "–ë—Ä–æ—É–Ω", "–ì–æ—Ä", "–ú–∞—Ä–∫—É—Å", "–§—Ä–µ–Ω–∫—ñ", "–¢–æ–Ω–∫", "–ë—Ä—É—Ç–æ", "–ú–æ–ª–æ—Ç", "–ó—É–±", "–ö–∞–º–µ–Ω—é–∫–∞", "–î—Ä–æ–±–∏–ª–∫–∞"]
            },
            "–†–æ–±–æ—Ç": {
                all: ["–°–µ—Ä–∂–∞–Ω—Ç –ì–∞—Ç—Å—ñ", "–°–ø–∞—Ä–∫—ñ", "–ê–Ω—ñ–≥—ñ–ª—è—Ç–æ—Ä–Ω–∞ –ì–∞—Ä–º–∞—Ç–∞", "X-AA-E-12 (–ó–µ–π-12)", "R2-D2", 
                      "–°–æ–∫–µ—Ç LGA 1337", "–°–ø–∏–∑–¥–∏–≤—Ç—Ä–æ–Ω", "–î–∂–æ–Ω–Ω—ñ-–±–æ–π", "–í—ñ–¥—Ä–æ-–ó-–ì–∞–π–∫–∞–º–∏", "10001110101 (–ö–ª–∞—Ç—á)",
                      "–ú–æ—Ç–æ-100", "–ö—ñ–±–µ—Ä–Ω–∏–∫", "–ü—Ä–æ—Ç–æ–Ω", "–ù–µ–π—Ç—Ä–æ–Ω", "–î—Ä–æ—ó–¥-7", "–ú–æ–¥—É–ª—å-88", "–°–∫–∞–Ω–µ—Ä", "–õ–∞–∑–µ—Ä-–û—á—ñ", "–ú–µ–≥–∞-–ú–æ–∑–æ–∫", "–¢—É—Ä–µ–ª—å"]
            },
            "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ": {
                male: ["–†–∞–≤—Ä", "–î–æ–≥–º—ñ—Ç", "–ì—Ä—É—Ç–∞—Ä", "–ì—Ä–æ–≥–Ω–∞–∫", "–ú–∞–∫—Å–∏–º—ñ–ª—ñ–∞–Ω", "–ü–æ–∂–∏—Ä–∞—á", "–Ø–∫–æ–≥–æ-–ë—ñ—Å–∞", "–ì–æ—Ä—ñ—Å", "–í–∞—Ä–≥–∞", "–ö—Ä–µ–≥",
                       "–ö–ª–µ—à–Ω—è", "–†–∏–ø–∞—á", "–†–æ–∑–ø–æ—Ä—é–≤–∞—á", "–ö—Ä–æ–≤–æ–∂–µ—Ä", "–ú—è—Å–æ—Ä—É–±–∫–∞", "–†—ñ–∑–∞–∫", "–¢–µ—Ä–æ—Ä", "–•–∏–∂–∞–∫", "–†—É–π–Ω—ñ–≤–Ω–∏–∫", "–ñ–Ω–µ—Ü—å"],
                female: ["–ó–≥—É–±–∞", "–ë—Ä–∏—Ç–≤–∞", "–ê–∑—É—Ä–∞", "–°—Ä—ñ–±–Ω–∞ –¢—ñ–Ω—å", "–ê—Ñ—ñ–Ω–∞", "–ö—Ä–∏–≤–∞–≤–∞ –ü–∞—â–∞", "–¢–≤–æ—è-–ú–∞–º—Ü—è", "–®–µ–ª—ñ–Ω–∞", "–§–ª–µ–º–µ—Ç", "–ö–∞—Ä–Ω–∞",
                        "–°–º–µ—Ä—Ç—å", "–¢—ñ–Ω—å", "–°—Ç–∞–ª—å", "–û—Ç—Ä—É—Ç–∞", "–õ—é—Ç—å", "–°—Ç—Ä–∞—Ö", "–ë—ñ–ª—å", "–ó–Ω–∏—â—É–≤–∞—á–∫–∞", "–í–±–∏–≤—Ü—è", "–ú–µ—Å–Ω–∏—Ü—è"]
            }
        };

        const aspects = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": {
                concept: ["–ö–æ–ª–∏—à–Ω—ñ–π –≤–∏–∫–∏–¥–∞–π–ª–æ", "–†–∞–±-—É—Ç—ñ–∫–∞—á, —â–æ –±—É–≤ –≥–ª–∞–¥—ñ–∞—Ç–æ—Ä–æ–º", "–ó—ñ—Ä–∫–∞ –±–æ–∫—Å–µ—Ä—Å—å–∫–æ–≥–æ —Ä–∏–Ω–≥—É", 
                         "–ó–≤—ñ–ª—å–Ω–µ–Ω–∏–π –∑–∞–ª—ñ–∑–Ω–∏—á–Ω–∏–∫", "–ì—Ä–æ–º–∏–ª–æ –∑ –º–∞—Ñ—ñ—ó", "–ö—Ä–∞—â–∏–π –±–æ—Ä–µ—Ü—å –ø–ª–µ–º–µ–Ω—ñ"],
                problem: ["–°—Ç–∞—Ä—ñ —Ä–∞–Ω–∏", "–ó–∞–ø–∞–ª—å–Ω–∞ –≤–¥–∞—á–∞", "–¢—Ä–µ–º—Ç—ñ–Ω–Ω—è —Ä—É–∫", "–ù–∞—ó–≤–Ω–∏–π, —è–∫ –¥–∏—Ç–∏–Ω–∞", 
                         "–ß–≤–∞—Ä–Ω–∏–π —Ç–∞ –¥—Ä—ñ–±'—è–∑–∫–æ–≤–∏–π", "–í—Ç–æ–≤–∫–º–∞—á–µ–Ω–∞ –ø–æ–∫—ñ—Ä–Ω—ñ—Å—Ç—å"],
                goal: ["–ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Å–æ–±—ñ —Å—Ç–∞—Ä—ñ—Å—Ç—å", "–ü–æ–º–µ—Ä—Ç–∏ –∑ —á–µ—Å—Ç—é –≤ –¥–æ—Å—Ç–æ–π–Ω—ñ–π –±–∏—Ç–≤—ñ", "–°–ø–ª–∞—Ç–∏—Ç–∏ —Å—Ç–∞—Ä—ñ –±–æ—Ä–≥–∏", 
                      "–ó–¥–æ–±—É—Ç–∏ –ø–æ–≤–∞–≥—É —Ç–∞ —É–≤—ñ–π—Ç–∏ –≤ –≤–∏—Å–æ–∫—ñ –∫–æ–ª–∞", "–í–∏–∫—É–ø–∏—Ç–∏ —Å—ñ–º'—é –∑ —Ä–∞–±—Å—Ç–≤–∞", "–í–∏–≥—Ä–∞—Ç–∏ –≥–æ–ª–æ–≤–Ω–∏–π —á–µ–º–ø—ñ–æ–Ω–∞—Ç –∑ –±–æ—Ä–æ—Ç—å–±–∏"]
            },
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": {
                concept: ["–ó–∞–∫–æ–Ω–Ω–∏–∫ –ø–æ–∑–∞ –∑–∞–∫–æ–Ω–æ–º", "–°–Ω–∞–π–ø–µ—Ä-–¥–µ–∑–µ—Ä—Ç–∏—Ä", "–ú–∏—Å–ª–∏–≤–µ—Ü—å –∑–∞ –≥–æ–ª–æ–≤–∞–º–∏", 
                         "–í—ñ–¥–æ–º–∏–π –Ω–∞–π–º–∞–Ω–µ—Ü—å", "–ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏–π –∫–æ–≤–±–æ–π", "–†–µ—Ñ–æ—Ä–º–æ–≤–∞–Ω–∏–π –±–∞–Ω–¥–∏—Ç"],
                problem: ["–¶—ñ–Ω–∞ –∑–∞ –º–æ—é –≥–æ–ª–æ–≤—É", "–í—Å—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –¥–Ω—ñ –ø–ª—è—à–∫–∏", "–ñ–∞—Ö–ª–∏–≤–∏–π –∑–ª–æ—á–∏–Ω —É –º–∏–Ω—É–ª–æ–º—É", 
                         "–°—Ç–∞—Ä—ñ—é —Ç–∞ –≤—Ç—Ä–∞—á–∞—é —Å–ø—Ä–∏—Ç–Ω—ñ—Å—Ç—å", "–í–ø–µ—Ä—Ç–∏–π —è–∫ –≤—ñ—Å–ª—é–∫", "–ü—ñ–¥–æ–∑—Ä—é—é –≤—Å—ñ—Ö —ñ –∫–æ–∂–Ω–æ–≥–æ"],
                goal: ["–†–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è –∑ —Ç–∏–º–∏, —Ö—Ç–æ –º–µ–Ω–µ –ø—ñ–¥—Å—Ç–∞–≤–∏–≤", "–ü–æ–∑–±–∞–≤–∏—Ç–∏—Å—è –≤—ñ–¥ —Ç—è–≥–∞—Ä—è –º–∏–Ω—É–ª–æ–≥–æ", 
                      "–û—Å—ñ—Å—Ç–∏ –∑–∞ –∑–∞–≤–µ—Å—Ç–∏ —Å—ñ–º'—é –≤ –±–µ–∑–ø–µ—á–Ω–æ–º—É –º—ñ—Å—Ü—ñ", "–°—Ç–∞—Ç–∏ –≥–æ–ª–æ–≤–æ—é –Ω–∞–π–±—ñ–ª—å—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –Ω–∞–π–º–∞–Ω—Ü—ñ–≤", 
                      "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –¥–∏—Ç—è, –∫–æ—Ç—Ä–∏–º —è –æ–ø—ñ–∫—É—é—Å—å, –π–æ–≥–æ –ø–ª–µ–º–µ–Ω—ñ", "–ó–¥–æ–±—É—Ç–∏ –ø—Ä–æ—â–µ–Ω–Ω—è —Å–≤–æ—ó—Ö –≥—Ä—ñ—Ö—ñ–≤"]
            },
            "–¢–æ—Ä–≥–∞—à": {
                concept: ["–¢–æ—Ä–≥–æ—Ç—Ä–æ–Ω, —â–æ –∑–¥–æ–±—É–≤ —Å–∞–º–æ—Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å", "–ú–æ–ª–æ–¥–∏–π –∫–∞—Ä–∞–≤–∞–Ω–Ω–∏–∫", "–°—Ç–∞—Ä–∏–π –ø—Ä–æ–π–¥–∏—Å–≤—ñ—Ç", 
                         "–ö–æ–ª–∏—à–Ω—ñ–π —Ä–∞–±–æ—Ç–æ—Ä–≥–æ–≤–µ—Ü—å", "–°–≤–∞–≤—ñ–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–±–∞–Ω–¥–∏—Å—Ç", "–î–∏–∫—É–Ω, —â–æ –Ω–µ—Å–∞–º–æ–≤–∏—Ç–æ –æ–±–æ–∂–Ω—é—î –∫—Ä–∏—à–∫–∏"],
                problem: ["–ñ–∞–¥—ñ–±–Ω–∏–π, —è–∫ –∫—ñ—Ç –¥–æ —Å–∞–ª–∞", "–ë–æ—è–≥—É–∑, —â–æ –Ω–µ –Ω—é—Ö–∞–≤ –ø–æ—Ä–æ—Ö—É", "–í—ñ–¥–æ–º–∏–π –≤ –ø'—è—Ç—å–æ—Ö –º—ñ—Å—Ç–∞—Ö —à–∞—Ö—Ä–∞–π", 
                         "–ö–æ–ª–∏—à–Ω—ñ–π ¬´—Ç–æ–≤–∞—Ä¬ª —Ö–æ—á–µ, —â–æ–± —è –∑–¥–æ—Ö", "–ö—É–ø–∞ –±–æ—Ä–≥—ñ–≤", "–ú–∞–Ω—ñ–∞–∫–∞–ª—å–Ω–æ –∑–±–∏—Ä–∞—é —É—Å—ñ–ª—è–∫–∏–π –Ω–µ–ø–æ—Ç—Ä—ñ–±"],
                goal: ["–°—Ç–∞—Ç–∏ –≥–æ–ª–æ–≤–æ—é –Ω–∞–π–±—ñ–ª—å—à–æ—ó –∫–∞—Ä–∞–≤–∞–Ω–Ω–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó", "–ó–Ω–∞–π—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—é –ª—é–±–æ–≤", "–°–ø–ª–∞—Ç–∏—Ç–∏ –±—ñ—Å–æ–≤—ñ –∞–ª—ñ–º–µ–Ω—Ç–∏ –≤—Å—ñ–º –∫–æ–ª–∏—à–Ω—ñ–º –¥—Ä—É–∂–∏–Ω–∞–º", 
                      "–ó–º—É—Å–∏—Ç–∏ –∫—Ä–∏–≤–¥–Ω–∏–∫–∞ –ø–æ-—Å–ø—Ä–∞–≤–∂–Ω—å–æ–º—É —Å—Ç—Ä–∞–∂–¥–∞—Ç–∏", "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ç–µ, —â–æ –Ω–∞–ª–µ–∂–∏—Ç—å –º–µ–Ω—ñ –ø–æ –ø—Ä–∞–≤—É", "–ü–æ–±—É–¥—É–≤–∞—Ç–∏ —Ö—Ä–∞–º —Å–≤–æ—î–º—É –±–æ–≥–æ–≤—ñ"]
            },
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": {
                concept: ["–ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏–π –¥—ñ–¥–∂–µ–π", "–§–∞—Ç–∞–ª—å–Ω–∞ –∂—ñ–Ω–∫–∞", "–ú–∞–π–±—É—Ç–Ω—è –∑—ñ—Ä–∫–∞ –µ—Å—Ç—Ä–∞–¥–∏", 
                         "–Ü–º—ñ—Ç–∞—Ç–æ—Ä –¥–æ–≤–æ—î–Ω–Ω–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞", "–ë–æ–≥–µ–º–Ω–∏–π —Ö–∞–ª—è–≤—â–∏–∫", "–í—ñ–¥—Å—Ç–∞–≤–Ω–∏–π –∞—Ä–º—ñ–π—Å—å–∫–∏–π —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"],
                problem: ["–•–æ—Ä–æ—à—ñ –º–æ—ó, —É–ª—é–±–ª–µ–Ω—ñ –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏", "–ù–∞–¥–º—ñ—Ä—É –∑–∞–∑–¥—Ä—ñ—Å–Ω—ñ –ø—Ä–∏—Ö–∏–ª—å–Ω–∏–∫–∏", "–†–æ–∑–¥—É—Ç–µ –µ–≥–æ –Ω–µ –≤–ª—ñ–∑–∞—î –¥–æ –∫–∞—Ä–∞–≤–∞–Ω—É", 
                         "–†–æ–∑–¥–≤–æ—î–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–æ—Å—Ç—ñ", "–ù–µ –ø—Ä–∏—Å—Ç–æ—Å–æ–≤–∞–Ω–∏–π –¥–æ –∂–∏—Ç—Ç—è —É –ü—É—Å—Ç—Ü—ñ", "–ù–∞–∫–∞–∑ ‚Äî –Ω–∞–π–∫—Ä–∞—â–∞ —Ñ–æ—Ä–º–∞ –ø—Ä–æ—Ö–∞–Ω–Ω—è"],
                goal: ["–ü–æ—á–∞—Ç–∏ –Ω–æ–≤–µ –∂–∏—Ç—Ç—è", "–ó–¥–æ–±—É—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—é –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å", "–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞–≥–Ω—É–º –æ–ø—É—Å", 
                      "–í–±–∏—Ç–∏ –±—ñ–ª—å—à —É—Å–ø—ñ—à–Ω–æ–≥–æ –∞—Ä—Ç–∏—Å—Ç–∞", "–í—ñ–¥–∫—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω—É –∞—Ä—Ç-–≥–∞–ª–µ—Ä–µ—é", "–ù–∞–≤—á–∏—Ç–∏—Å—è –¥–æ–≤—ñ—Ä—è—Ç–∏ –ª—é–¥—è–º"]
            },
            "–ó–ª–æ–¥—é–≥–∞": {
                concept: ["–í—É–ª–∏—á–Ω–∏–π –∫—Ä–∞–¥—é–∂–∫–∞", "–§–∞–Ω–∞—Ç –≥–æ–ª–æ–¥–∏—Å–∫—ñ–≤ –ø—Ä–æ –Ω—ñ–Ω–¥–∑—è", "–ù–∞–π–º–∞–Ω–∏–π –≤–±–∏–≤—Ü—è", 
                         "–ö–æ–ª–∏—à–Ω—ñ–π –§—Ä—É–º–µ–Ω—Ç–∞—Ä—ñ–π –õ–µ–≥—ñ–æ–Ω—É", "–ù–∞–π—Ç–∫—ñ–Ω-–≤–µ–¥–º–µ–∂–∞—Ç–Ω–∏–∫", "–¶–∏—Ä–∫–∞—á-—É—Ç—ñ–∫–∞—á"],
                problem: ["–ì—Ä–æ—à—ñ —Å–∞–º—ñ —Ç—ñ–∫–∞—é—Ç—å –∑ —Ä—É–∫", "–°–∞–º–æ–≤–ø–µ–≤–Ω–µ–Ω–∏–π", "–î–æ–∫–æ—Ä–∏ —Å—É–º–ª—ñ–Ω–Ω—è", 
                         "–ë–æ—Ä–≥ –±–∞—Ç—å–∫—ñ–≤—â–∏–Ω—ñ", "–ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –°—Ç–µ–ª—Å-–±–æ—è", "–ö–æ–ª–∏—à–Ω—ñ–π —Ö–∞–∑—è—ó–Ω —Ö–æ—á–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –º–µ–Ω–µ"],
                goal: ["–ë—ñ–ª—å—à–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É—Ç–∏ –Ω—É–∂–¥–µ–Ω–Ω–∏–º", "–ó–Ω–∞–π—Ç–∏ –º–µ–Ω—Ç–æ—Ä–∞ —ñ —Å—Ç–∞—Ç–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–º –Ω—ñ–Ω–¥–∑—è", "–£–Ω–∏–∫–Ω—É—Ç–∏ —Ä–æ–∑–ø–ª–∞—Ç–∏ –∑–∞ –≥—Ä—ñ—Ö–∏", 
                      "–í–∏–∫–æ–Ω–∞—Ç–∏ –æ–±—ñ—Ü—è–Ω–∫—É –∑–∞–≥–∏–±–ª–æ–º—É —Ç–æ–≤–∞—Ä–∏—à—É", "–ó–Ω–∞–π—Ç–∏ —Å–ø–æ—Å—ñ–± –ø–æ–∑–±—É—Ç–∏—Å—è –∑–≥—É–±–Ω–æ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ", "–í–∏–∑–≤–æ–ª–∏—Ç–∏ –¥—Ä—É–∑—ñ–≤ –∑ –ø–æ–ª–æ–Ω—É"]
            },
            "–¢–µ—Ö–Ω—ñ–∫": {
                concept: ["–í—É–Ω–¥–µ—Ä–∫—ñ–Ω–¥ –∑—ñ –∑–≤–∞–ª–∏—â–∞", "–ü–∏—Å–∞—Ä –ë—Ä–∞—Ç—Å—Ç–≤–∞ –°—Ç–∞–ª—ñ –ø—ñ–¥ –ø—Ä–∏–∫—Ä–∏—Ç—Ç—è–º", "–í–∏—Ö–æ–¥–µ—Ü—å –∑ —Ç–µ—Ö–Ω–æ–∫—É–ª—å—Ç—É", 
                         "–ö–æ–ª–∏—à–Ω—ñ–π –º–µ—Ö–∞–Ω—ñ–∫ –ê–Ω–∫–ª–∞–≤—É", "–î–µ–º–æ–±—ñ–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∞—Ä–º—ñ–π—Å—å–∫–∏–π –ø—ñ–¥—Ä–∏–≤–Ω–∏–∫", "–ó–±–∞–Ω–∫—Ä—É—Ç—ñ–ª–∏–π –º—ñ—Å—å–∫–∏–π –∞–≤—Ç–æ–º–µ—Ö–∞–Ω—ñ–∫"],
                problem: ["–ö—Ä–∞—â–µ —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è –∑ —Ç–µ—Ö–Ω—ñ–∫–æ—é, –Ω—ñ–∂ –∑ –ª—é–¥—å–º–∏", "–ö—Å–µ–Ω–æ—Ñ–æ–±—ñ—è", "–°–ª–∞–≤–∞ –Ω–∞—à–∏–º —Ä–æ–±–æ-–≥–æ—Å–ø–æ–¥–∞—Ä—è–º!", 
                         "–¢–µ–º–Ω–µ –º–∏–Ω—É–ª–µ –∑ –Ω–µ–ª—é–¥—Å—å–∫–∏–º–∏ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏", "–°—Ç–∞—Ä–∞ –∫–æ–Ω—Ç—É–∑—ñ—è", "–ü—Ä–æ–±–ª–µ–º–∏ –∑ —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–æ—é"],
                goal: ["–ó–Ω–∞–π—Ç–∏ (—á–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏) —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ –¥—Ä—É–≥–∞", "–î–æ—Å—è–≥—Ç–∏ –≤–µ—Ä—Ö—ñ–≤–∫–∏ —Å–≤–æ—î—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó", "–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ—é —Å–≤—ñ–¥–æ–º—ñ—Å—Ç—å —É —Ä–æ–±–æ—Ç–∞", 
                      "–ü–æ–º—Å—Ç–∏—Ç–∏—Å—å —Ç–∏–º, —Ö—Ç–æ –∑–∞–±—Ä–∞–≤ —É –º–µ–Ω–µ –≤—Å–µ", "–ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ —Å—ñ–º'—é –Ω–∞ –ø–æ–∫–æ–ª—ñ–Ω–Ω—è –≤–ø–µ—Ä–µ–¥", "–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ —Å–≤–æ—î –¥–æ–±—Ä–µ —ñ–º'—è"]
            },
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": {
                concept: ["–†–æ–±–æ–º–æ–∑–æ–∫ –∑ –¥–æ–≤–æ—î–Ω–Ω–∏–º –≤—á–µ–Ω–∏–º –≤ –¥—ñ–∂—Ü—ñ", "–ê–º–±—ñ—Ç–Ω–∏–π –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏–∫ –ê–ø–æ–∫–∞–ª—ñ–ø—Å–∏—Å—É", "–®–∞–º–∞–Ω-–∫–æ—Å—Ç–æ–ø—Ä–∞–≤", 
                         "–•—ñ—Ä—É—Ä–≥-–≤—ñ–≤—ñ—Å–µ–∫—Ç–æ—Ä", "–ù–µ–≤–∏–∑–Ω–∞–Ω–∏–π –≥–µ–Ω—ñ–π", "–¢–µ—Ö–Ω–æ—Ç—Ä–æ–Ω—É—Ç–∏–π –∑—ñ –°—Ö–æ–≤–∏—â–∞"],
                problem: ["–ì–ª—é–∫–∏ –≤ –Ω–µ–π—Ä–æ—Å–æ—Ñ—Ç—ñ", "–ü–µ—Ä–µ–∫–æ–Ω–∞–Ω–∏–π –ø–∞—Ü–∏—Ñ—ñ—Å—Ç", "–ù–µ—Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ –≤—Å—å–æ–≥–æ", 
                         "–•–æ–ª–æ–¥–Ω–æ–∫—Ä–æ–≤–Ω–∏–π –ø—Å–∏—Ö–æ–ø–∞—Ç", "–ú–µ–Ω–µ –Ω—ñ—Ö—Ç–æ –Ω–µ —Ä–æ–∑—É–º—ñ—î!", "–í –ü—É—Å—Ç—Ü—ñ –≤—Å–µ —ñ–Ω–∞–∫—à–µ"],
                goal: ["–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ–ø–µ—Ä–µ–º–æ–∂–Ω—É –∞—Ä–º—ñ—é —ñ –∑–Ω–∏—â–∏—Ç–∏ –≤—Å—ñ—Ö –∫–æ–º—É–Ω—è–∫", "–í–∏–Ω–∞–π—Ç–∏ –ø–∞–Ω–∞—Ü–µ—é", "–í—Ä—è—Ç—É–≤–∞—Ç–∏ —Å–≤–æ—î –º—ñ—Å—Ç–æ –≤—ñ–¥ –∑–∞–≥–∏–±–µ–ª—ñ", 
                      "–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞–¥–ª—é–¥–∏–Ω—É", "–ó–∞—Ö–∏—Å—Ç–∏—Ç–∏ –¥–æ–∫—Ç–æ—Ä—Å—å–∫—É", "–í–∏–ø—É—Å—Ç–∏—Ç–∏ –≤–ª–∞—Å–Ω—É –≥—Ä—É"]
            },
            "–†–µ–π–Ω–¥–∂–µ—Ä": {
                concept: ["–ö–∞–Ω–¥–∏–¥–∞—Ç —É —Ä–µ–π–Ω–¥–∂–µ—Ä–∏ –ù–ö–†", "–ü–ª–µ–º—ñ–Ω–Ω–∏–π —Å–ª—ñ–¥–æ–ø–∏—Ç", "–û—Å—Ç–∞–Ω–Ω—ñ–π –≤—Ü—ñ–ª—ñ–ª–∏–π –∑—ñ –°—Ö–æ–≤–∏—â–∞", 
                         "–ü–µ—Ä—à–æ–ø—Ä–æ—Ö–æ–¥–µ—Ü—å –õ–µ–≥—ñ–æ–Ω—É", "–í–∏–≥–Ω–∞–Ω–µ—Ü—å –ë—Ä–∞—Ç—Å—Ç–≤–∞ –°—Ç–∞–ª—ñ", "–†–æ–∑–∫—Ä–∞–¥–∞—á –¥–æ–≤–æ—î–Ω–Ω–∏—Ö —Å–∫–∞—Ä–±—ñ–≤"],
                problem: ["–ù–∞—ó–≤–Ω–∏–π —ñ–¥–µ–∞–ª—ñ—Å—Ç", "–ó–¥–∏—á–∞–≤—ñ–≤ —É –ü—É—Å—Ç—Ü—ñ", "–ü–æ—Å—Ç—Ç—Ä–∞–≤–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑–ª–∞–¥", 
                         "–ú–∞–π–∂–µ —Å–ª—ñ–ø–∏–π", "–ó–∞—Å—É–¥–∂–µ–Ω–∏–π –¥–æ –ª—ñ–∫–≤—ñ–¥–∞—Ü—ñ—ó", "–ù–∞–¥–º—ñ—Ä–Ω–æ —Ü—ñ–∫–∞–≤–∏–π"],
                goal: ["–û—Ç—Ä–∏–º–∞—Ç–∏ –æ–º—Ä—ñ—è–Ω–µ –∑–≤–∞–Ω–Ω—è", "–ü–æ–º—Å—Ç–∏—Ç–∏—Ç—Å—è –∑–∞ —Å–º–µ—Ä—Ç—å —Ä—ñ–¥–Ω–∏—Ö", "–ó–Ω–∞–π—Ç–∏ –Ω–æ–≤–∏–π –¥—ñ–º", 
                      "–ü—ñ–¥–∫–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—é", "–î–æ–≤–µ—Å—Ç–∏ –≤—Å—ñ–º, —â–æ –≤–æ–Ω–∏ –±—É–ª–∏ –Ω–µ –ø—Ä–∞–≤—ñ", "–ó–Ω–∞–π—Ç–∏ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–µ –°—Ö–æ–≤–∏—â–µ –∑ –∫—Ä–∏—à–∫–∞–º–∏"]
            },
            "–ü—Å–∏–æ–Ω—ñ–∫": {
                concept: ["–ü—ñ–¥–¥–æ—Å–ª—ñ–¥–Ω–∏–π —â—É—Ä", "–î–∏–≤–Ω–∏–π —Å–∏—Ä–æ—Ç–∞", "–®–∞–º–∞–Ω-–≤–∏–≥–Ω–∞–Ω–µ—Ü—å", 
                         "–ú–∞–Ω–¥—Ä—ñ–≤–Ω–∏–π –º–æ–ª—å—Ñ–∞—Ä", "–û—Å–æ–±–ª–∏–≤–∏–π –º—É—Ç–∞–Ω—Ç", "–ù–∞—â–∞–¥–æ–∫ –ü–æ–≤–µ–ª–∏—Ç–µ–ª—è"],
                problem: ["–§–ª–µ—à–±–µ–∫–∏ –≤—ñ–¥ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ñ–≤", "–¢—Ä–∏–≤–æ–∂–Ω–∞ –∞—É—Ä–∞", "–†–æ–¥–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ—Ç", 
                         "–ì–æ–ª–æ—Å–∏ –≤ –≥–æ–ª–æ–≤—ñ", "–õ–∏—Ö–µ –æ–∫–æ", "–ú–∞–Ω—ñ—è –≤–µ–ª–∏—á—ñ"],
                goal: ["–ó—Ä–æ–∑—É–º—ñ—Ç–∏ —â–æ —Ç–∞–∫–µ –±—É—Ç–∏ –ª—é–¥–∏–Ω–æ—é", "–ó–Ω–∞–π—Ç–∏ —ñ –≤–±–∏—Ç–∏ —Å–≤–æ—ó—Ö –±–∞—Ç—å–∫—ñ–≤", "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Ä—ñ–¥–Ω–æ–≥–æ –ø–ª–µ–º–µ–Ω—ñ", 
                      "–ó–∞–ø–æ–±—ñ–≥—Ç–∏ –∫—ñ–Ω—Ü—é —Å–≤—ñ—Ç—É", "–ó–Ω–∞–π—Ç–∏ —Å–≤–æ—î –º—ñ—Å—Ü–µ –≤ —Å–≤—ñ—Ç—ñ", "–ó–∞—Å–Ω—É–≤–∞—Ç–∏ –∫—É–ª—å—Ç —ñ–º–µ–Ω—ñ —Å–µ–±–µ"]
            }
        };

        const equipment = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": [
                "–°–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–í–∞–∂–∫–∞ –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (2d6)",
                "–í–∞–∂–∫–∞ –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (2d6)",
                "–°–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (1d10), —Å—Ç–∏–º–ø–∞–∫, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ, –±—É—Å—Ç–µ—Ä (–°–∏–ª–∞)",
                "–°–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é (1d10), —Å—Ç–∏–º–ø–∞–∫, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ, –±—É—Å—Ç–µ—Ä (–°–∏–ª–∞)"
            ],
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": [
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), 2 –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6), 1 –∫—Ä–∏—à–∫–∞",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), 2 –∞—Ä–º—ñ–π—Å—å–∫—ñ –≥—Ä–∞–Ω–∞—Ç–∏ (2d6), 1 –∫—Ä–∏—à–∫–∞",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ü—Å–∏—Ö–æ, 1 –∫—Ä–∏—à–∫–∞",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ü—Å–∏—Ö–æ, 1 –∫—Ä–∏—à–∫–∞"
            ],
            "–¢–æ—Ä–≥–∞—à": [
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), 2 —Å—Ç–∏–º–ø–∞–∫–∏, 1 –∫—Ä–∏—à–∫–∞",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), 2 —Å—Ç–∏–º–ø–∞–∫–∏, 1 –∫—Ä–∏—à–∫–∞",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è, –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6), —Å—Ç–∏–º–ø–∞–∫",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è, –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6), —Å—Ç–∏–º–ø–∞–∫"
            ],
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": [
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –±—É—Å—Ç–µ—Ä (–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å), –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ, —Å—Ç–∏–º–ø–∞–∫",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –±—É—Å—Ç–µ—Ä (–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å), –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ, —Å—Ç–∏–º–ø–∞–∫",
                "–†–æ–∑–∫—ñ—à–Ω–∏–π –¥–æ–≤–æ—î–Ω–Ω–∏–π –æ–¥—è–≥, 2 –¥–æ–∑–∏ –î–∂–µ—Ç—É, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–†–æ–∑–∫—ñ—à–Ω–∏–π –¥–æ–≤–æ—î–Ω–Ω–∏–π –æ–¥—è–≥, 2 –¥–æ–∑–∏ –î–∂–µ—Ç—É, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–†–æ–∑–∫—ñ—à–Ω–∏–π –¥–æ–≤–æ—î–Ω–Ω–∏–π –æ–¥—è–≥, —Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10)",
                "–†–æ–∑–∫—ñ—à–Ω–∏–π –¥–æ–≤–æ—î–Ω–Ω–∏–π –æ–¥—è–≥, —Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10)"
            ],
            "–ó–ª–æ–¥—é–≥–∞": [
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–º–∏—á–∫–∞",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–º–∏—á–∫–∞",
                "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–º–∏—á–∫–∞, –¥–µ—Ç–µ–∫—Ç–æ—Ä —Ä—É—Ö—É",
                "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–º–∏—á–∫–∞, –¥–µ—Ç–µ–∫—Ç–æ—Ä —Ä—É—Ö—É",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –±—É—Å—Ç–µ—Ä (–°–ø—Ä–∏—Ç–Ω—ñ—Å—Ç—å), —Å—Ç–∏–º–ø–∞–∫, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –±—É—Å—Ç–µ—Ä (–°–ø—Ä–∏—Ç–Ω—ñ—Å—Ç—å), —Å—Ç–∏–º–ø–∞–∫, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ"
            ],
            "–¢–µ—Ö–Ω—ñ–∫": [
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6), —Å—Ç–∏–º–ø–∞–∫",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –ø–ª–∞–∑–º–æ–≤–∞ –≥—Ä–∞–Ω–∞—Ç–∞ (3d6), —Å—Ç–∏–º–ø–∞–∫",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –Ω–∞–±—ñ—Ä –º–∞–π—Å—Ç–µ—Ä–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), –Ω–∞–±—ñ—Ä –º–∞–π—Å—Ç–µ—Ä–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤"
            ],
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": [
                "–ï–ª–µ–∫—Ç—Ä–∏—á–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10 +1d6 —Ä–æ–±–æ—Ç–∞–º —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ—Ü—ñ)",
                "–ï–ª–µ–∫—Ç—Ä–∏—á–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10 +1d6 —Ä–æ–±–æ—Ç–∞–º —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ—Ü—ñ)",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), 1 –∫—Ä–∏—à–∫–∞",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), 1 –∫—Ä–∏—à–∫–∞",
                "–û—Ç—Ä—É—Ç–∞-–Ü–∫—Å, –†–∞–¥-–Ü–∫—Å, —Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫",
                "–û—Ç—Ä—É—Ç–∞-–Ü–∫—Å, –†–∞–¥-–Ü–∫—Å, —Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫"
            ],
            "–†–µ–π–Ω–¥–∂–µ—Ä": [
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–°–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (1d10), –ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 —Å—Ç–∏–º–ø–∞–∫–∏, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 —Å—Ç–∏–º–ø–∞–∫–∏, –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–í–∞–∂–∫–∞ —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (2d6)",
                "–í–∞–∂–∫–∞ —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è (2d6)"
            ],
            "–ü—Å–∏–æ–Ω—ñ–∫": [
                "–°–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è (2)",
                "–°–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è (2)",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "–õ–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1), 2 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), –º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ",
                "4 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), —Å—Ç–∏–º–ø–∞–∫",
                "4 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ (–Ü–Ω—Ç–µ–ª–µ–∫—Ç), —Å—Ç–∏–º–ø–∞–∫"
            ]
        };

        const details = [
            ["–®—Ä–∞–º –≤—ñ–¥ –ü–∞–∑—É—Ä–∞ –°–º–µ—Ä—Ç—ñ", "–°—É–º–ª—ñ–Ω–Ω–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π —â–æ–¥–µ–Ω–Ω–∏–∫", "–ú–µ–¥–∞–ª—å–π–æ–Ω –∑ –≤–æ–ª–æ—Å—Å—è–º –º–µ—Ä—Ü—è", "–ú–µ–¥–∞–ª—å –∑–∞ –≤—ñ–¥–º—ñ–Ω–Ω—É —Å–ª—É–∂–±—É", "–†–æ–∑—É–º–Ω–∞ –ø—É—Ö–ª–∏–Ω–∞, –∑ —è–∫–æ—é –º–æ–∂–µ—à —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–∏", "–õ–∏—Å—Ç –≤—ñ–¥ –ª—é–¥–∏–Ω–∏, —è–∫—É —Ç–∏ –≤–≤–∞–∂–∞–≤ –¥–∞–≤–Ω–æ –º–µ—Ä—Ç–≤–æ—é"],
            ["–í—Å—Ç–∞–≤–Ω–∏–π –∑—É–±, —â–æ –≤—ñ–¥–ª–∏—Ç–∏–π –∑ –º–µ—Ç–∞–ª—É –∫—É–ª—ñ, —è–∫—É –∑ —Ç–µ–±–µ –≤–∏–π–Ω—è–ª–∏", "–ë–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π Pip-Boy", "–•–∞—Ä–∞–∫—Ç–µ—Ä–Ω–∞ —É—Å–º—ñ—à–∫–∞, —è–∫—É —Ç–∏ –ø–µ—Ä–µ–π–Ω—è–≤ –≤—ñ–¥ –¥—Ä—É–≥–∞", "–ì—Ä–∞–º–æ—Ç–∞ –ø–æ—á–µ—Å–Ω–æ–≥–æ –∂–∏—Ç–µ–ª—è –º—ñ—Å—Ç–∞", "–®–º–∞—Ç–æ—á–æ–∫ –º–µ—Ç–∞–ª—É –ø–æ–∑–∞–∑–µ–º–Ω–æ–≥–æ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è", "–°–≤—ñ–¥–æ—Ü—Ç–≤–æ –ø—Ä–æ —Å–º–µ—Ä—Ç—å –Ω–∞ —Ç–≤–æ—î —ñ–º'—è"],
            ["–î–æ–≤–æ—î–Ω–Ω–∞ –∫–Ω–∏–≥–∞, —è–∫—É —Ç–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ —á–∏—Ç–∞—î—à", "–õ–æ–≤–µ—Ü—å —Å–Ω—ñ–≤, –ø–æ–¥–∞—Ä–æ–≤–∞–Ω–∏–π —à–∞–º–∞–Ω–æ–º –ø–ª–µ–º–µ–Ω—ñ", "–ö–ª—é—á –≤—ñ–¥ —Å–µ–π—Ñ–∞, —â–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–µ–≤—ñ–¥–æ–º–æ –¥–µ", "–ë–æ—Ä–≥–æ–≤–∞ —Ä–æ–∑–ø–∏—Å–∫–∞ –ª—é–¥–∏–Ω–∏, —â–æ –∑–Ω–∏–∫–ª–∞", "–ó–∞–≥–æ–≤–æ—Ä–µ–Ω–∞ —Ñ—ñ–≥—É—Ä–∫–∞ –ø–ª–µ–º—ñ–Ω–Ω–æ–≥–æ –±–æ–∂–∫–∞", "–§–∞–º—ñ–ª—å–Ω–∏–π —Ä–µ—Ü–µ–ø—Ç –¥—É–∂–µ —Å–º–∞—á–Ω–æ—ó —Å—Ç—Ä–∞–≤–∏"],
            ["–©–∞—Å–ª–∏–≤–∞ –ø–æ–∫–µ—Ä–Ω–∞ —Ñ—ñ—à–∫–∞", "–û–±—Ä—É—á–∫–∞ –≤—ñ–¥ –∫–æ—Ö–∞–Ω–æ—ó –ª—é–¥–∏–Ω–∏", "–®–º–∞—Ç–æ–∫ —Å—è—é—á–æ—ó —Ä—É–¥–∏, —è–∫–∏–π —Ç–∏ –∑–±–µ—Ä—ñ–≥–∞—î—à —è–∫ –ø–∞–º'—è—Ç—å", "–®–º–∞—Ç –º–æ—Ç—É–∑–∫–∏ –∑ —Ç–≤–æ—î—ó —à–∏–±–µ–Ω–∏—Ü—ñ", "–î–æ–∫—É–º–µ–Ω—Ç–∏ –ª—é–¥–∏–Ω–∏, —á–∏—é –æ—Å–æ–±—É —Ç–∏ –≤–∏–∫—Ä–∞–≤", "–ß–∞—Å—Ç–æ—Ç–∞ –¥–∏–≤–Ω–æ—ó –Ω–æ–º–µ—Ä–Ω–æ—ó —Ä–∞–¥—ñ–æ—Å—Ç–∞–Ω—Ü—ñ—ó"],
            ["–ù–∞–≥–æ—Ä–æ–¥–Ω–∞ –∑–±—Ä–æ—è", "–í–∏—Ü–≤—ñ–ª–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—è —Ç–≤–æ—î—ó –¥–∏—Ç–∏–Ω–∏", "–ó–∞—Å—É—à–µ–Ω–∞ –∫–≤—ñ—Ç–∫–∞ –≤—ñ–¥ —á—É–∂–æ–≥–æ –∫–æ—Ö–∞–Ω—Ü—è", "–î–µ—Ç–∞–ª—å–Ω–∞ –∫–∞—Ä—Ç–∞ –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ —Ç–æ–±—ñ –º—ñ—Å—Ü—è", "–ü–ª—è—à–∫–∞ —Ä—ñ–¥–∫—ñ—Å–Ω–æ–≥–æ –¥–æ–≤–æ—î–Ω–Ω–æ–≥–æ –∞–ª–∫–æ–≥–æ–ª—é", "–ö—Ä–∞—Å–∏–≤–∏–π –ø–æ—Ä—Ç—Ä–µ—Ç –Ω–∞ –ø–∞–º'—è—Ç—å"],
            ["–ó–±—ñ—Ä–∫–∞ —Ç–≤–æ—ó—Ö –≤—ñ—Ä—à—ñ–≤", "–ú–∞–π—Å—Ç–µ—Ä–Ω–æ –∑—Ä–æ–±–ª–µ–Ω–∞ –º–µ—Ö–∞–Ω—ñ—á–Ω–∞ —ñ–≥—Ä–∞—à–∫–∞", "–ö–æ–º–ø–ª–µ–∫—Ç –¥–æ–≤–æ—î–Ω–Ω–æ–≥–æ –æ–¥—è–≥—É", "–ë–µ–∑–ø–µ—á–Ω–∞ –º—É—Ç–∞—Ü—ñ—è", "–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –≤—ñ–π—Å—å–∫–æ–≤–∏–π –≥–æ–ª–æ–¥–∏—Å–∫", "–Ü–º–µ–Ω–Ω–∏–π –º—É–∑–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç"]
        ];

        const traits = {
            "–ó–¥–æ—Ä–æ–≤–∏–ª–æ": [
                ["–í–∏–±–∏–≤–∞–π–ª–æ", "–û–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π"],
                ["–ö–∞–º—ñ–∫–∞–¥–∑–µ", "–ö—Ä–∏–≤–∞–≤–∞ –ª–∞–∑–Ω—è"]
            ],
            "–°—Ç—Ä—ñ–ª–µ—Ü—å": [
                ["–¢–æ—á–Ω—ñ—Å—Ç—å", "–û–±–∞—á–ª–∏–≤–∏–π"],
                ["–ö–∞–º—ñ–∫–∞–¥–∑–µ", "–û–¥–Ω–æ—Ä—É–∫–∏–π"]
            ],
            "–¢–æ—Ä–≥–∞—à": [
                ["–°–ª—ñ–ø—É—á–µ –µ–≥–æ", "–û–±–∞—á–ª–∏–≤–∏–π"],
                ["–î–æ–±—Ä–∞ –¥—É—à–∞", "–ë–æ—Ç–∞–Ω"]
            ],
            "–°–ø–æ–∫—É—Å–Ω–∏–∫": [
                ["–°–ª—ñ–ø—É—á–µ –µ–≥–æ"],
                ["–î–æ–±—Ä–∞ –¥—É—à–∞", "–ú—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–∏–π"]
            ],
            "–ó–ª–æ–¥—é–≥–∞": [
                ["–ú—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–∏–π", "–û–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π"],
                ["–î–æ–±—Ä–∞ –¥—É—à–∞", "–û–±–∞—á–ª–∏–≤–∏–π"]
            ],
            "–¢–µ—Ö–Ω—ñ–∫": [
                ["–ë–æ—Ç–∞–Ω", "–¢—Ä–µ–Ω–æ–≤–∞–Ω–∏–π"],
                ["–î–æ–±—Ä–∞ –¥—É—à–∞", "–û–±–∞—á–ª–∏–≤–∏–π"]
            ],
            "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π": [
                ["–ë–æ—Ç–∞–Ω", "–û–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π"],
                ["–î–æ–±—Ä–∞ –¥—É—à–∞", "–¢—Ä–µ–Ω–æ–≤–∞–Ω–∏–π"]
            ],
            "–†–µ–π–Ω–¥–∂–µ—Ä": [
                ["–í–∏–±–∏–≤–∞–π–ª–æ", "–û–±–∞—á–ª–∏–≤–∏–π"],
                ["–ß—É—Ç–ª–∏–≤—ñ—Å—Ç—å –¥–æ —Ö—ñ–º—ñ—ó", "–û–ø—ñ—Ä–Ω—ñ—Å—Ç—å –¥–æ —Ö—ñ–º—ñ—ó"]
            ],
            "–ü—Å–∏–æ–Ω—ñ–∫": [
                ["–ë–æ—Ç–∞–Ω", "–ö—Ä–∏–≤–∞–≤–∞ –ª–∞–∑–Ω—è", "–î–æ–±—Ä–∞ –¥—É—à–∞"],
                []
            ]
        };

        function rollDice(sides) {
            return Math.floor(Math.random() * sides) + 1;
        }

        function pickRandom(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function getSpecies(archetype) {
            const roll = rollDice(10);
            const distribution = speciesDistribution[archetype];
            
            for (let spec of distribution) {
                if (roll >= spec.range[0] && roll <= spec.range[1]) {
                    return spec.species;
                }
            }
            return "–õ—é–¥–∏–Ω–∞";
        }

        function getName(species, gender = null) {
            if (species === "–õ—é–¥–∏–Ω–∞" || species === "–ì—É–ª—å") {
                if (!gender) gender = Math.random() < 0.5 ? "male" : "female";
                return pickRandom(names[species][gender]);
            } else if (species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                if (!gender) gender = Math.random() < 0.5 ? "male" : "female";
                return pickRandom(names["–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ"][gender]);
            } else {
                return pickRandom(names[species]?.all || ["–ë–µ–∑—ñ–º–µ–Ω–Ω–∏–π"]);
            }
        }

        function getRandomPerks(archetype, count) {
            const archetypePerks = perks[archetype];
            const selectedPerks = [];
            
            for (let i = 0; i < Math.min(count, archetypePerks.length); i++) {
                selectedPerks.push(pickRandom(archetypePerks[i]));
            }
            
            return selectedPerks;
        }

        function applySpeciesAttributeModifiers(attributes, species) {
            // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–æ–ø—ñ—é –∞—Ç—Ä–∏–±—É—Ç—ñ–≤ –¥–ª—è –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
            const modifiedAttributes = {...attributes};
            
            if (species === "–ì—É–ª—å") {
                if (modifiedAttributes.–°–õ === 2) {
                    modifiedAttributes.–°–õ -= 1;
                    modifiedAttributes.–Ü–ù += 1;
                }
                if (modifiedAttributes.–ü–í === 2) {
                    modifiedAttributes.–ü–í -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
            }
            
            if (species === "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç") {
                if (modifiedAttributes.–ü–í === 2) {
                    modifiedAttributes.–ü–í -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
                if (modifiedAttributes.–Ü–ù === 1) {
                    modifiedAttributes.–Ü–ù -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
                if (modifiedAttributes.–Ü–ù === 2) {
                    modifiedAttributes.–Ü–ù -= 2;
                    modifiedAttributes.–í–¢–† += 1;
                    modifiedAttributes.–°–õ += 1;
                }
            }
            
            if (species === "–†–æ–±–æ—Ç") {
                if (modifiedAttributes.–ü–í === 2) {
                    modifiedAttributes.–ü–í -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
            }
            
            if (species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                if (modifiedAttributes.–ü–í === 2) {
                    modifiedAttributes.–ü–í -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
                if (modifiedAttributes.–Ü–ù === 2) {
                    modifiedAttributes.–Ü–ù -= 1;
                    modifiedAttributes.–í–¢–† += 1;
                }
            }
            
            return modifiedAttributes;
        }

        function getSpeciesTraitOptions(archetype, species) {
            const speciesTraits = [];
            
            if (archetype === "–ó–¥–æ—Ä–æ–≤–∏–ª–æ" && species === "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç") {
                speciesTraits.push("–ê–ª—å—Ñ–∞-—Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç");
            }
            
            if ((archetype === "–ó–¥–æ—Ä–æ–≤–∏–ª–æ" || archetype === "–ó–ª–æ–¥—é–≥–∞" || archetype === "–†–µ–π–Ω–¥–∂–µ—Ä") && species === "–õ—é–¥–∏–Ω–∞") {
                speciesTraits.push("–ü–µ—Ä–µ–∫–æ–Ω–∞–Ω–∏–π –¥–∏–∫—É–Ω");
            }
            
            if ((archetype === "–ó–¥–æ—Ä–æ–≤–∏–ª–æ" || archetype === "–°—Ç—Ä—ñ–ª–µ—Ü—å") && species === "–†–æ–±–æ—Ç") {
                speciesTraits.push("–í–±—É–¥–æ–≤–∞–Ω–∞ –∑–±—Ä–æ—è");
            }
            
            if ((archetype === "–¢–æ—Ä–≥–∞—à" || archetype === "–°–ø–æ–∫—É—Å–Ω–∏–∫" || archetype === "–¢–µ—Ö–Ω—ñ–∫") && species === "–†–æ–±–æ—Ç") {
                speciesTraits.push("–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å");
            }
            
            if ((archetype === "–¢–æ—Ä–≥–∞—à" || archetype === "–°–ø–æ–∫—É—Å–Ω–∏–∫") && species === "–õ—é–¥–∏–Ω–∞") {
                speciesTraits.push("–î–∏—Ç—è —Ü–∏–≤—ñ–ª—ñ–∑–∞—Ü—ñ—ó");
            }
            
            if (archetype === "–ó–ª–æ–¥—é–≥–∞" && species === "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç") {
                speciesTraits.push("–ù–∞–π—Ç–∫—ñ–Ω");
            }
            
            if ((archetype === "–¢–µ—Ö–Ω—ñ–∫" || archetype === "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π") && species === "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç") {
                speciesTraits.push("–ë–µ—Ç–∞-—Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç");
            }
            
            if (archetype === "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π" && species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                speciesTraits.push("–ê–ª—å–±—ñ–Ω–æ—Å");
            }
            
            if (archetype === "–†–µ–π–Ω–¥–∂–µ—Ä" && species === "–ì—É–ª—å") {
                speciesTraits.push("–°—è—é—á–∏–π", "–ë–æ–Ω—Å–∞–π");
            }
            
            return speciesTraits;
        }

        function getRandomTraits(archetype, count, species, isPsionik = false) {
            const archetypeTraits = traits[archetype];
            if (!archetypeTraits) return [];
            
            const selectedTraits = [];
            
            if (isPsionik) {
                // –ü—Å–∏–æ–Ω—ñ–∫ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –º–∞—î –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å "–ü—Å–∏–æ–Ω—ñ–∫"
                selectedTraits.push("–ü—Å–∏–æ–Ω—ñ–∫");
                
                // –î–æ–¥–∞—Ç–∫–æ–≤–æ –º–æ–∂–µ –º–∞—Ç–∏ 0 –∞–±–æ 1 –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –∑—ñ —Å–≤–æ–≥–æ —Å–ø–∏—Å–∫—É
                if (count >= 1 && archetypeTraits[0] && archetypeTraits[0].length > 0) {
                    selectedTraits.push(pickRandom(archetypeTraits[0]));
                }
            } else {
                // –û—Ç—Ä–∏–º—É—î–º–æ –¥–æ—Å—Ç—É–ø–Ω—ñ –≤–∏–¥–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ
                const speciesTraitOptions = getSpeciesTraitOptions(archetype, species);
                
                for (let i = 0; i < Math.min(count, archetypeTraits.length); i++) {
                    if (archetypeTraits[i] && archetypeTraits[i].length > 0) {
                        // –û–±'—î–¥–Ω—É—î–º–æ –∑–≤–∏—á–∞–π–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∑ –≤–∏–¥–æ–≤–∏–º–∏
                        let allOptions = [...archetypeTraits[i]];
                        if (speciesTraitOptions.length > 0 && i < 2) {
                            allOptions.push(...speciesTraitOptions);
                        }
                        
                        // –í–∏–¥–∞–ª—è—î–º–æ –≤–∂–µ –æ–±—Ä–∞–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤
                        allOptions = allOptions.filter(trait => !selectedTraits.includes(trait));
                        
                        if (allOptions.length > 0) {
                            // –í–∏–ø–∞–¥–∫–æ–≤–∏–π –≤–∏–±—ñ—Ä: –∞–±–æ –æ–±—Ä–∞—Ç–∏ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å, –∞–±–æ –∑–∞–ª–∏—à–∏—Ç–∏ —Å–ª–æ—Ç –ø–æ—Ä–æ–∂–Ω—ñ–º
                            if (Math.random() < 0.5 || selectedTraits.length === 0) {
                                selectedTraits.push(pickRandom(allOptions));
                            }
                            // –Ø–∫—â–æ Math.random() >= 0.5 —ñ —Ü–µ –Ω–µ –ø–µ—Ä—à–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å, —Å–ª–æ—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –ø–æ—Ä–æ–∂–Ω—ñ–º
                        }
                    }
                }
            }
            
            return selectedTraits;
        }

        function applyTraitModifiers(attributes, skills, perks, equipment, traits, archetype) {
            const modifiedAttributes = {...attributes};
            let modifiedSkills = [...skills];
            let modifiedPerks = [...perks];
            let modifiedEquipment = equipment;
            
            traits.forEach(trait => {
                switch(trait) {
                    case "–í–∏–±–∏–≤–∞–π–ª–æ":
                        modifiedAttributes.–°–õ += 1;
                        break;
                    case "–û–±–∞—á–ª–∏–≤–∏–π":
                        modifiedAttributes.–°–ü–† += 1;
                        modifiedAttributes.–í–¢–† -= 1;
                        break;
                    case "–ú—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–∏–π":
                        modifiedAttributes.–í–ü += 1;
                        modifiedAttributes.–°–ü–† -= 1;
                        break;
                    case "–ë–æ—Ç–∞–Ω":
                        modifiedAttributes.–Ü–ù += 1;
                        modifiedAttributes.–í–¢–† -= 1;
                        break;
                    case "–°–ª—ñ–ø—É—á–µ –µ–≥–æ":
                        modifiedAttributes.–ü–í += 1;
                        modifiedAttributes.–°–ü–† -= 1;
                        break;
                    case "–î–æ–±—Ä–∞ –¥—É—à–∞":
                        // –ó–∞–º—ñ–Ω—è—î–º–æ –ø–µ—Ä—à–∏–π —Å–∫—ñ–ª –∑ (—É—á–µ–Ω—å) –Ω–∞ (–ø—ñ–¥–º–∞–π—Å—Ç–µ—Ä)
                        if (modifiedSkills.length > 0) {
                            modifiedSkills[0] = modifiedSkills[0].replace("(–£—á–µ–Ω—å)", "(–ü—ñ–¥–º–∞–π—Å—Ç–µ—Ä)");
                        }
                        break;
                    case "–ê–ª—å—Ñ–∞-—Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç":
                        modifiedAttributes.–°–õ += 1;
                        modifiedAttributes.–í–ü -= 1;
                        break;
                    case "–ü–µ—Ä–µ–∫–æ–Ω–∞–Ω–∏–π –¥–∏–∫—É–Ω":
                        // –î–æ–¥–∞—î–º–æ –∞–±–æ –ø–æ–∫—Ä–∞—â—É—î–º–æ –Ω–∞–≤–∏—á–∫—É –í–∏–∂–∏–≤–∞–Ω–Ω—è
                        const survivalIndex = modifiedSkills.findIndex(skill => skill.includes("–í–∏–∂–∏–≤–∞–Ω–Ω—è"));
                        if (survivalIndex !== -1) {
                            modifiedSkills[survivalIndex] = "–í–∏–∂–∏–≤–∞–Ω–Ω—è (–ü—ñ–¥–º–∞–π—Å—Ç–µ—Ä)";
                        } else {
                            modifiedSkills.push("–í–∏–∂–∏–≤–∞–Ω–Ω—è (–£—á–µ–Ω—å)");
                        }
                        break;
                    case "–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å":
                        // –¶—è –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –Ω–µ –∑–º—ñ–Ω—é—î –ø–µ—Ä–∫–∏ —Ç—É—Ç, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –≤–∂–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é
                        break;
                    case "–ù–∞–π—Ç–∫—ñ–Ω":
                        modifiedAttributes.–°–õ += 1;
                        modifiedEquipment += ", –ó–∞–ª–µ–∂–Ω—ñ—Å—Ç—å (—Å—Ç–µ–ª—Å-–±–æ–π)";
                        break;
                    case "–ë–µ—Ç–∞-—Å—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç":
                        modifiedAttributes.–Ü–ù += 1;
                        modifiedAttributes.–°–õ -= 1;
                        break;
                    case "–ê–ª—å–±—ñ–Ω–æ—Å":
                        modifiedAttributes.–Ü–ù += 1;
                        modifiedAttributes.–í–¢–† -= 1;
                        break;
                    case "–°—è—é—á–∏–π":
                        if (!modifiedPerks.includes("–†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è")) {
                            modifiedPerks.push("–†–µ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è");
                        } else {
                            modifiedPerks.push("–ú—ñ—Ü–Ω–∏–π");
                        }
                        break;
                }
            });
            
            return {
                attributes: modifiedAttributes,
                skills: modifiedSkills,
                perks: modifiedPerks,
                equipment: modifiedEquipment
            };
        }


        function applySpeciesEquipmentRules(species, equipmentStr) {
            if (!equipmentStr) return equipmentStr;
            // Split by comma+space to preserve existing rendering
            let items = equipmentStr.split(', ').map(s => s.trim()).filter(s => s.length > 0);
            const replLightArmorToCaps = (val) => /–ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è \(1\)/i.test(val) ? "5 –∫—Ä–∏—à–æ–∫" : val;
            const replaceForDeathclaw = (val) => {
                if (/—Å–µ—Ä–µ–¥–Ω—è –±—Ä–æ–Ω—è \(2\)/i.test(val)) return "–ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)";
                if (/—Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è \(1d10\)/i.test(val)) return "5 –∫—Ä–∏—à–æ–∫";
                if (/—Å–µ—Ä–µ–¥–Ω—è –∑–±—Ä–æ—è –±–ª–∏–∂–Ω—å–æ–≥–æ –±–æ—é \(1d10\)/i.test(val)) return "5 –∫—Ä–∏—à–æ–∫";
                if (/–µ–ª–µ–∫—Ç—Ä–∏—á–Ω–∞ —Å–µ—Ä–µ–¥–Ω—è —Å—Ç—Ä—ñ–ª–µ—Ü—å–∫–∞ –∑–±—Ä–æ—è \(1d10 \+1d6 —Ä–æ–±–æ—Ç–∞–º —Ç–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ—Ü—ñ\)/i.test(val)) return "–ª–µ–≥–∫–∞ –±—Ä–æ–Ω—è (1)";
                if (/–µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –≤—ñ–¥–º–∏—á–∫–∞/i.test(val)) return "5 –∫—Ä–∏—à–æ–∫";
                if (/–¥–µ—Ç–µ–∫—Ç–æ—Ä —Ä—É—Ö—É/i.test(val)) return "5 –∫—Ä–∏—à–æ–∫";
                return val;
            };
            
            // Robot substitutions
            const replaceForRobot = (val) => {
// Only two allowed replacements per spec:
    // - —Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫ -> –∫—Ä–∏—Ç—Ñ—ñ–∫—Å
    // - –±—É—Å—Ç–µ—Ä (–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å) -> —Ö–æ—Ç—Ñ—ñ–∫—Å
    if (/\b—Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫\b/i.test(val)) return val.replace(/\b—Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫\b/gi, "–∫—Ä–∏—Ç—Ñ—ñ–∫—Å");
    if (/–±—É—Å—Ç–µ—Ä \(–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å\)/i.test(val)) return val.replace(/–±—É—Å—Ç–µ—Ä \(–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å\)/gi, "—Ö–æ—Ç—Ñ—ñ–∫—Å");
    return val;
};
            
            // First pass specific substitutions
            items = items.map(val => { let out = val;
                if (species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") { out = replaceForDeathclaw(out); }
                if (species === "–†–æ–±–æ—Ç") { out = replaceForRobot(out); }
                // Robots and Deathclaws convert light armor (1) to 5 caps
                if (species === "–†–æ–±–æ—Ç" || species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                    out = replLightArmorToCaps(out);
                }
                return out;
            });
// For Robots: completely remove prohibited items from equipment
if (species === "–†–æ–±–æ—Ç") {
    const robotRemovePatterns = [
        /\b—Å—Ç–∏–º–ø–∞–∫\b/i,
        /\b2 —Å—Ç–∏–º–ø–∞–∫–∏\b/i,
        /\b—Å—É–ø–µ—Ä—Å—Ç–∏–º–ø–∞–∫\b/i,
        /–±—É—Å—Ç–µ—Ä \(–°–∏–ª–∞\)/i,
        /–±—É—Å—Ç–µ—Ä \(–ü—Ä–∏–≤–∞–±–ª–∏–≤—ñ—Å—Ç—å\)/i,
        /–±—É—Å—Ç–µ—Ä \(–°–ø—Ä–∏—Ç–Ω—ñ—Å—Ç—å\)/i,
        /–±—É—Å—Ç–µ—Ä \(–Ü–Ω—Ç–µ–ª–µ–∫—Ç\)/i,
        /2 –¥–æ–∑–∏ –±—É—Å—Ç–µ—Ä—ñ–≤ \(–Ü–Ω—Ç–µ–ª–µ–∫—Ç\)/i,
        /\b–î–∂–µ—Ç\b/i,
        /2 –¥–æ–∑–∏ –î–∂–µ—Ç—É/i,
        /–º—ñ—Ü–Ω–µ –±—É—Ö–ª–æ/i,
        /\b–ü—Å–∏—Ö–æ\b/i
    ];
    items = items.filter(i => i && !robotRemovePatterns.some(p => p.test(i)));
}

            
            // If Deathclaw, convert any resulting light armor to caps again (covers chain replacements), then add Claws
            if (species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                items = items.map(replLightArmorToCaps);
                const clawsPattern = /–ü–∞–∑—É—Ä—ñ \(1d10, —ñ–≥–Ω–æ—Ä—É—î 1 —Ñ—ñ–∑–∏—á–Ω–æ—ó –±—Ä–æ–Ω—ñ\)/i;
                if (!items.some(i => clawsPattern.test(i))) {
                    items.push("–ü–∞–∑—É—Ä—ñ (1d10 —ñ–≥–Ω–æ—Ä—É—î 1 —Ñ—ñ–∑–∏—á–Ω–æ—ó –±—Ä–æ–Ω—ñ)");
                }
            }
            return items.join(', ');
        }

        function rerollName(species) {
            const newName = getName(species);
            currentCharacter.name = newName;
            updateCharacterDisplay();
        }

        function rerollConcept(archetype) {
            const newConcept = pickRandom(aspects[archetype].concept);
            currentCharacter.concept = newConcept;
            updateCharacterDisplay();
        }

        function rerollProblem(archetype) {
            const newProblem = pickRandom(aspects[archetype].problem);
            currentCharacter.problem = newProblem;
            updateCharacterDisplay();
        }

        function rerollGoal(archetype) {
            const newGoal = pickRandom(aspects[archetype].goal);
            currentCharacter.goal = newGoal;
            updateCharacterDisplay();
        }

        function generateCharacter(isPsionik = false) {
            let archetype, species;
            
            if (isPsionik) {
                archetype = "–ü—Å–∏–æ–Ω—ñ–∫";
                species = "–õ—é–¥–∏–Ω–∞";
            } else {
                archetype = pickRandom(archetypes);
                species = getSpecies(archetype);
            }
            
            const characterName = getName(species);
            
            // –ë–∞–∑–æ–≤—ñ –∞—Ç—Ä–∏–±—É—Ç–∏
            let baseAttributes = attributeModifiers[archetype];
            
            // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –≤–∏–¥—É –¥–æ –∞—Ç—Ä–∏–±—É—Ç—ñ–≤
            baseAttributes = applySpeciesAttributeModifiers(baseAttributes, species);
            
            // –ù–∞–≤–∏—á–∫–∏ - –ª—é–¥–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å 3, —ñ–Ω—à—ñ 2
            const characterSkills = skills[archetype];
            let activeSkills = species === "–õ—é–¥–∏–Ω–∞" ? characterSkills : characterSkills.slice(0, 2);
            
            // –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ (–≥–µ–Ω–µ—Ä—É—î–º–æ —Å–ø–æ—á–∞—Ç–∫—É, —â–æ–± –∑–Ω–∞—Ç–∏ –ø—Ä–æ –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—É –º–æ–¥–µ–ª—å)
            const traitRoll = rollDice(4);
            let traitCount = 0;
            if (traitRoll === 1) traitCount = 0;      // 25% —à–∞–Ω—Å
            else if (traitRoll === 2 || traitRoll === 3) traitCount = 1;  // 50% —à–∞–Ω—Å
            else if (traitRoll === 4) traitCount = 2; // 25% —à–∞–Ω—Å
            const characterTraits = getRandomTraits(archetype, traitCount, species, isPsionik);
            
            // –ü–µ—Ä–∫–∏ - –ª—é–¥–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å 3, —ñ–Ω—à—ñ 2, –∞–ª–µ –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å –¥–∞—î 3 –ø–µ—Ä–∫–∏
            let perkCount = species === "–õ—é–¥–∏–Ω–∞" ? 3 : 2;
            if (characterTraits.includes("–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å")) {
                perkCount = 3;
            }
            let characterPerks = getRandomPerks(archetype, perkCount);
            
            // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π
            const modifiedData = applyTraitModifiers(baseAttributes, activeSkills, characterPerks, "", characterTraits, archetype);
            baseAttributes = modifiedData.attributes;
            activeSkills = modifiedData.skills;
            characterPerks = modifiedData.perks;

// üîß –û—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å "–û–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π" –¥–ª—è –æ–∫—Ä–µ–º–∏—Ö –∞—Ä—Ö–µ—Ç–∏–ø—ñ–≤:
// –Ø–∫—â–æ —É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∞—Ä—Ö–µ—Ç–∏–ø –ó–¥–æ—Ä–æ–≤–∏–ª–æ/–ó–ª–æ–¥—é–≥–∞/(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π —Ç–∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å –û–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π,
// –≤—ñ–Ω –ù–ï –º–∞—î –¥—Ä—É–≥–æ–≥–æ –ø–µ—Ä–∫–∞ (–≤–∏–¥–∞–ª—è—î–º–æ 2-–π –ø–µ—Ä–∫ –∑—ñ —Å–ø–∏—Å–∫—É), –∞–ª–µ –æ—Ç—Ä–∏–º—É—î –∞—Ç—Ä–∏–±—É—Ç–Ω–∏–π –±–æ–Ω—É—Å:
const hasGifted = characterTraits.some(t => t && t.toLowerCase().includes("–æ–±–¥–∞—Ä–æ–≤–∞–Ω–∏–π"));
if (hasGifted && (archetype === "–ó–¥–æ—Ä–æ–≤–∏–ª–æ" || archetype === "–ó–ª–æ–¥—é–≥–∞" || archetype === "(–ë–æ–∂–µ)–≤—ñ–ª—å–Ω–∏–π –≤—á–µ–Ω–∏–π")) {
    // –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –¥—Ä—É–≥–∏–π –ø–µ—Ä–∫, —è–∫—â–æ –≤—ñ–Ω —î
    if (characterPerks.length >= 2) {
        characterPerks.splice(1, 1);
    }
    // –î–æ–¥–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π –±–æ–Ω—É—Å
    if (archetype === "–ó–ª–æ–¥—é–≥–∞") {
        baseAttributes.–í–¢–† = (baseAttributes.–í–¢–† || 0) + 1;
    } else {
        baseAttributes.–í–ü = (baseAttributes.–í–ü || 0) + 1;
    }
}

            
            // –†–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ –∑–¥–æ—Ä–æ–≤'—è —Ç–∞ –¥–æ–ª—ñ
            let maxHealth = 15 + (baseAttributes.–í–¢–† * 3);
            
            // –ú–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ –≤–∏–¥—É –¥–ª—è –∑–¥–æ—Ä–æ–≤'—è
            if (species === "–°—É–ø–µ—Ä–º—É—Ç–∞–Ω—Ç" || species === "–†–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ") {
                maxHealth += 5;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–∫–∞ "–ó–¥–æ—Ä–æ–≤–∞–Ω—å"
            if (characterPerks.includes("–ó–¥–æ—Ä–æ–≤–∞–Ω—å")) {
                maxHealth += 5;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ "–ë–æ–Ω—Å–∞–π" (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –≥—É–ª—ñ–≤)
            if (species === "–ì—É–ª—å" && characterTraits.includes("–ë–æ–Ω—Å–∞–π")) {
                maxHealth -= 3;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ "–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å" (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–±–æ—Ç—ñ–≤)
            if (species === "–†–æ–±–æ—Ç" && characterTraits.includes("–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ –º–æ–¥–µ–ª—å")) {
                maxHealth -= 5;
            }
            
            // –ñ–µ—Ç–æ–Ω–∏ –¥–æ–ª—ñ = 2 + –£–î–ß
            let fateRestore = 2 + baseAttributes.–£–î–ß;
            
            // –ê—Å–ø–µ–∫—Ç–∏
            const concept = pickRandom(aspects[archetype].concept);
            const problem = pickRandom(aspects[archetype].problem);
            const goal = pickRandom(aspects[archetype].goal);
            
            // –°–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è
            const equipmentRoll = rollDice(6) - 1;
            let characterEquipment = equipment[archetype][equipmentRoll];
            
            // –î–æ–¥–∞—î–º–æ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è –∑ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç–µ–π
            characterEquipment = modifiedData.equipment || characterEquipment;
// üîß –í–∏–¥ —Ç–∞ —ó—Ö –≤–ø–ª–∏–≤ –Ω–∞ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è (—Ä–æ–±–æ—Ç/—Ä–æ–∑—É–º–Ω–∏–π –ü–∞–∑—É—Ä –°–º–µ—Ä—Ç—ñ)
characterEquipment = applySpeciesEquipmentRules(species, characterEquipment);
            
            // –î–µ—Ç–∞–ª—å
            const detail = pickRandom(pickRandom(details));
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
            currentCharacter = {
                name: characterName,
                archetype: archetype,
                species: species,
                attributes: baseAttributes,
                skills: activeSkills,
                perks: characterPerks,
                traits: characterTraits,
                health: maxHealth,
                fate: fateRestore,
                concept: concept,
                problem: problem,
                goal: goal,
                equipment: characterEquipment,
                detail: detail
            };
            
            updateCharacterDisplay();
        }

        function generatePsionik() {
            generateCharacter(true);
        }

        function updateCharacterDisplay() {
            if (!currentCharacter) return;
            
            const characterHTML = `
                <div class="section" style="grid-column: span 2;">
                    <h2>üìã –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="field">
                            <div class="field-label">–Ü–º'—è</div>
                            <div class="field-value">
                                ${currentCharacter.name}
                                <button class="reroll-btn" onclick="rerollName('${currentCharacter.species}')">üé≤</button>
                            </div>
                        </div>
                        <div class="field">
                            <div class="field-label">–ê—Ä—Ö–µ—Ç–∏–ø</div>
                            <div class="field-value">${currentCharacter.archetype}</div>
                        </div>
                        <div class="field">
                            <div class="field-label">–í–∏–¥</div>
                            <div class="field-value">${currentCharacter.species}</div>
                        </div>
                        <div class="field">
                            <div class="field-label">–î–µ—Ç–∞–ª—å</div>
                            <div class="field-value">${currentCharacter.detail}</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>üí™ –ê—Ç—Ä–∏–±—É—Ç–∏</h2>
                    <div class="attribute-grid">
                        <div class="attribute-box">
                            <div class="attribute-label">–°–õ</div>
                            <div class="attribute-value">${currentCharacter.attributes.–°–õ >= 0 ? '+' : ''}${currentCharacter.attributes.–°–õ}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–°–ü–†</div>
                            <div class="attribute-value">${currentCharacter.attributes.–°–ü–† >= 0 ? '+' : ''}${currentCharacter.attributes.–°–ü–†}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–í–¢–†</div>
                            <div class="attribute-value">${currentCharacter.attributes.–í–¢–† >= 0 ? '+' : ''}${currentCharacter.attributes.–í–¢–†}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–ü–í</div>
                            <div class="attribute-value">${currentCharacter.attributes.–ü–í >= 0 ? '+' : ''}${currentCharacter.attributes.–ü–í}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–Ü–ù</div>
                            <div class="attribute-value">${currentCharacter.attributes.–Ü–ù >= 0 ? '+' : ''}${currentCharacter.attributes.–Ü–ù}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–í–ü</div>
                            <div class="attribute-value">${currentCharacter.attributes.–í–ü >= 0 ? '+' : ''}${currentCharacter.attributes.–í–ü}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–£–î–ß</div>
                            <div class="attribute-value">${currentCharacter.attributes.–£–î–ß >= 0 ? '+' : ''}${currentCharacter.attributes.–£–î–ß}</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤'—è —Ç–∞ –î–æ–ª—è</h2>
                    <div class="attribute-grid">
                        <div class="attribute-box">
                            <div class="attribute-label">–ú–∞–∫—Å. –û–ó</div>
                            <div class="attribute-value">${currentCharacter.health}</div>
                        </div>
                        <div class="attribute-box">
                            <div class="attribute-label">–ñ–µ—Ç–æ–Ω–∏ –î–æ–ª—ñ</div>
                            <div class="attribute-value">${currentCharacter.fate}</div>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <h2>üéØ –ù–∞–≤–∏—á–∫–∏</h2>
                    ${currentCharacter.skills.map((skill, idx) => { const hasLevel = /(\(|Ôºà)/.test(skill); const gifted = currentCharacter.traits.includes("–î–æ–±—Ä–∞ –¥—É—à–∞"); const level = hasLevel ? "" : (gifted && idx===0 ? " (–ü—ñ–¥–º–∞–π—Å—Ç–µ—Ä)" : " (–£—á–µ–Ω—å)"); return `<div class="skill-item">üìö ${skill}${level}</div>`; }).join('')}
                </div>
                
                <div class="section">
                    <h2>‚≠ê –ü–µ—Ä–∫–∏</h2>
                    ${currentCharacter.perks.map(perk => `<div class="perk-item">‚ú® ${perk}</div>`).join('')}
                </div>
                
                ${currentCharacter.traits.length > 0 ? `
                <div class="section">
                    <h2>üé≠ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ</h2>
                    ${currentCharacter.traits.map(trait => `<div class="perk-item">üî∏ ${trait}</div>`).join('')}
                </div>
                ` : ''}
                
                <div class="section">
                    <h2>üéí –°–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è</h2>
                    <ul class="equipment-list">
                        <li>üó°Ô∏è –õ–µ–≥–∫–∞ –∑–±—Ä–æ—è (1d6)</li>
                        ${currentCharacter.equipment.split(', ').map(item => `<li>üì¶ ${item}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="section" style="grid-column: span 2;">
                    <h2>üìñ –ê—Å–ø–µ–∫—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞</h2>
                    <div class="field">
                        <div class="field-label">–ö–æ–Ω—Ü–µ–ø—Ü—ñ—è</div>
                        <div class="field-value">
                            ${currentCharacter.concept}
                            <button class="reroll-btn" onclick="rerollConcept('${currentCharacter.archetype}')">üé≤</button>
                        </div>
                    </div>
                    <div class="field">
                        <div class="field-label">–ü—Ä–æ–±–ª–µ–º–∞</div>
                        <div class="field-value">
                            ${currentCharacter.problem}
                            <button class="reroll-btn" onclick="rerollProblem('${currentCharacter.archetype}')">üé≤</button>
                        </div>
                    </div>
                    <div class="field">
                        <div class="field-label">–¶—ñ–ª—å</div>
                        <div class="field-value">
                            ${currentCharacter.goal}
                            <button class="reroll-btn" onclick="rerollGoal('${currentCharacter.archetype}')">üé≤</button>
                        </div>
                    </div>
                </div>
            `;
            
            // Display character sheet
            const sheetDiv = document.getElementById('characterSheet');
            sheetDiv.innerHTML = characterHTML;
            sheetDiv.style.display = 'grid';
            
            // Scroll to character sheet
            sheetDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
